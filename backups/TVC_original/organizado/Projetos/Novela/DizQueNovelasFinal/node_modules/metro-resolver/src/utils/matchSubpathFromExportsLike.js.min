"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchSubpathFromExportsLike=matchSubpathFromExportsLike;var _matchSubpathPattern=require("./matchSubpathPattern"),_reduceExportsLikeMap=require("./reduceExportsLikeMap");function matchSubpathFromExportsLike(e,t,r,a,n){const o=new Set(["default",!0===e.isESMImport?"import":"require",...e.unstable_conditionNames,...null!=a?e.unstable_conditionsByPlatform[a]??[]:[]]),s=(0,_reduceExportsLikeMap.reduceExportsLikeMap)(r,o,n);let u=s.get(t),p=null;if(null==u){const e=[...s.keys()].map(e=>({key:e,baseLength:e.indexOf("*")})).filter(e=>-1!==e.baseLength).sort((e,t)=>e.baseLength===t.baseLength?t.key.length-e.key.length:t.baseLength-e.baseLength);for(const{key:r}of e){const e=s.get(r);if(p=(0,_matchSubpathPattern.matchSubpathPattern)(r,t),null!=p){u=e;break}}}return{target:u??null,patternMatch:p}}