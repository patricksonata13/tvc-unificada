function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_extends.apply(null,arguments)}import*as React from"react";import{Dimensions,StyleSheet}from"react-native";import{NativeSafeAreaProvider}from"./NativeSafeAreaProvider";const isDev="production"!==process.env.NODE_ENV;export const SafeAreaInsetsContext=React.createContext(null);isDev&&(SafeAreaInsetsContext.displayName="SafeAreaInsetsContext");export const SafeAreaFrameContext=React.createContext(null);isDev&&(SafeAreaFrameContext.displayName="SafeAreaFrameContext");export function SafeAreaProvider({children:e,initialMetrics:t,initialSafeAreaInsets:a,style:n,...r}){const s=useParentSafeAreaInsets(),o=useParentSafeAreaFrame(),[i,f]=React.useState(t?.insets??a??s??null),[c,l]=React.useState(t?.frame??o??{x:0,y:0,width:Dimensions.get("window").width,height:Dimensions.get("window").height}),u=React.useCallback(e=>{const{nativeEvent:{frame:t,insets:a}}=e;l(e=>!t||t.height===e.height&&t.width===e.width&&t.x===e.x&&t.y===e.y?e:t),f(e=>e&&a.bottom===e.bottom&&a.left===e.left&&a.right===e.right&&a.top===e.top?e:a)},[]);return React.createElement(NativeSafeAreaProvider,_extends({style:[styles.fill,n],onInsetsChange:u},r),null!=i?React.createElement(SafeAreaFrameContext.Provider,{value:c},React.createElement(SafeAreaInsetsContext.Provider,{value:i},e)):null)}export function SafeAreaListener({onChange:e,style:t,children:a,...n}){return React.createElement(NativeSafeAreaProvider,_extends({},n,{style:[styles.fill,t],onInsetsChange:t=>{e({insets:t.nativeEvent.insets,frame:t.nativeEvent.frame})}}),a)}const styles=StyleSheet.create({fill:{flex:1}});function useParentSafeAreaInsets(){return React.useContext(SafeAreaInsetsContext)}function useParentSafeAreaFrame(){return React.useContext(SafeAreaFrameContext)}const NO_INSETS_ERROR="No safe area value available. Make sure you are rendering `<SafeAreaProvider>` at the top of your app.";export function useSafeAreaInsets(){const e=React.useContext(SafeAreaInsetsContext);if(null==e)throw new Error(NO_INSETS_ERROR);return e}export function useSafeAreaFrame(){const e=React.useContext(SafeAreaFrameContext);if(null==e)throw new Error(NO_INSETS_ERROR);return e}export function withSafeAreaInsets(e){return React.forwardRef((t,a)=>{const n=useSafeAreaInsets();return React.createElement(e,_extends({},t,{insets:n,ref:a}))})}export function useSafeArea(){return useSafeAreaInsets()}export const SafeAreaConsumer=SafeAreaInsetsContext.Consumer;export const SafeAreaContext=SafeAreaInsetsContext;