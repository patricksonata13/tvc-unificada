"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NativeSafeAreaProvider=NativeSafeAreaProvider;var React=_interopRequireWildcard(require("react")),_reactNative=require("react-native");function _interopRequireWildcard(t,e){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(_interopRequireWildcard=function(t,e){if(!e&&t&&t.__esModule)return t;var r,o,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(r=e?i:n){if(r.has(t))return r.get(t);r.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?r(a,e,o):a[e]=t[e]);return a})(t,e)}const CSSTransitions={WebkitTransition:"webkitTransitionEnd",Transition:"transitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd"};function NativeSafeAreaProvider({children:t,style:e,onInsetsChange:n}){return React.useEffect(()=>{if("undefined"==typeof document)return;const t=createContextElement();document.body.appendChild(t);const e=()=>{const{paddingTop:e,paddingBottom:i,paddingLeft:r,paddingRight:o}=window.getComputedStyle(t),a={top:e?parseInt(e,10):0,bottom:i?parseInt(i,10):0,left:r?parseInt(r,10):0,right:o?parseInt(o,10):0},s={x:0,y:0,width:document.documentElement.offsetWidth,height:document.documentElement.offsetHeight};n({nativeEvent:{insets:a,frame:s}})};return t.addEventListener(getSupportedTransitionEvent(),e),e(),()=>{document.body.removeChild(t),t.removeEventListener(getSupportedTransitionEvent(),e)}},[n]),React.createElement(_reactNative.View,{style:e},t)}let _supportedTransitionEvent=null;function getSupportedTransitionEvent(){if(null!=_supportedTransitionEvent)return _supportedTransitionEvent;const t=document.createElement("invalidtype");_supportedTransitionEvent=CSSTransitions.Transition;for(const e in CSSTransitions)if(void 0!==t.style[e]){_supportedTransitionEvent=CSSTransitions[e];break}return _supportedTransitionEvent}let _supportedEnv=null;function getSupportedEnv(){if(null!==_supportedEnv)return _supportedEnv;const{CSS:t}=window;return _supportedEnv=t&&t.supports&&t.supports("top: constant(safe-area-inset-top)")?"constant":"env",_supportedEnv}function getInset(t){return`${getSupportedEnv()}(safe-area-inset-${t})`}function createContextElement(){const t=document.createElement("div"),{style:e}=t;return e.position="fixed",e.left="0",e.top="0",e.width="0",e.height="0",e.zIndex="-1",e.overflow="hidden",e.visibility="hidden",e.transitionDuration="0.05s",e.transitionProperty="padding",e.transitionDelay="0s",e.paddingTop=getInset("top"),e.paddingBottom=getInset("bottom"),e.paddingLeft=getInset("left"),e.paddingRight=getInset("right"),t}