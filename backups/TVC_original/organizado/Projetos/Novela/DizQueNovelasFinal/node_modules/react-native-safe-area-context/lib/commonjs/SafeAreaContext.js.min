"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SafeAreaInsetsContext=exports.SafeAreaFrameContext=exports.SafeAreaContext=exports.SafeAreaConsumer=void 0,exports.SafeAreaListener=SafeAreaListener,exports.SafeAreaProvider=SafeAreaProvider,exports.useSafeArea=useSafeArea,exports.useSafeAreaFrame=useSafeAreaFrame,exports.useSafeAreaInsets=useSafeAreaInsets,exports.withSafeAreaInsets=withSafeAreaInsets;var React=_interopRequireWildcard(require("react")),_reactNative=require("react-native"),_NativeSafeAreaProvider=require("./NativeSafeAreaProvider");function _interopRequireWildcard(e,t){if("function"==typeof WeakMap)var r=new WeakMap,a=new WeakMap;return(_interopRequireWildcard=function(e,t){if(!t&&e&&e.__esModule)return e;var n,s,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(n=t?a:r){if(n.has(e))return n.get(e);n.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((s=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(s.get||s.set)?n(o,t,s):o[t]=e[t]);return o})(e,t)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_extends.apply(null,arguments)}const isDev="production"!==process.env.NODE_ENV,SafeAreaInsetsContext=exports.SafeAreaInsetsContext=React.createContext(null);isDev&&(SafeAreaInsetsContext.displayName="SafeAreaInsetsContext");const SafeAreaFrameContext=exports.SafeAreaFrameContext=React.createContext(null);function SafeAreaProvider({children:e,initialMetrics:t,initialSafeAreaInsets:r,style:a,...n}){const s=useParentSafeAreaInsets(),o=useParentSafeAreaFrame(),[i,f]=React.useState(t?.insets??r??s??null),[u,c]=React.useState(t?.frame??o??{x:0,y:0,width:_reactNative.Dimensions.get("window").width,height:_reactNative.Dimensions.get("window").height}),l=React.useCallback(e=>{const{nativeEvent:{frame:t,insets:r}}=e;c(e=>!t||t.height===e.height&&t.width===e.width&&t.x===e.x&&t.y===e.y?e:t),f(e=>e&&r.bottom===e.bottom&&r.left===e.left&&r.right===e.right&&r.top===e.top?e:r)},[]);return React.createElement(_NativeSafeAreaProvider.NativeSafeAreaProvider,_extends({style:[styles.fill,a],onInsetsChange:l},n),null!=i?React.createElement(SafeAreaFrameContext.Provider,{value:u},React.createElement(SafeAreaInsetsContext.Provider,{value:i},e)):null)}function SafeAreaListener({onChange:e,style:t,children:r,...a}){return React.createElement(_NativeSafeAreaProvider.NativeSafeAreaProvider,_extends({},a,{style:[styles.fill,t],onInsetsChange:t=>{e({insets:t.nativeEvent.insets,frame:t.nativeEvent.frame})}}),r)}isDev&&(SafeAreaFrameContext.displayName="SafeAreaFrameContext");const styles=_reactNative.StyleSheet.create({fill:{flex:1}});function useParentSafeAreaInsets(){return React.useContext(SafeAreaInsetsContext)}function useParentSafeAreaFrame(){return React.useContext(SafeAreaFrameContext)}const NO_INSETS_ERROR="No safe area value available. Make sure you are rendering `<SafeAreaProvider>` at the top of your app.";function useSafeAreaInsets(){const e=React.useContext(SafeAreaInsetsContext);if(null==e)throw new Error(NO_INSETS_ERROR);return e}function useSafeAreaFrame(){const e=React.useContext(SafeAreaFrameContext);if(null==e)throw new Error(NO_INSETS_ERROR);return e}function withSafeAreaInsets(e){return React.forwardRef((t,r)=>{const a=useSafeAreaInsets();return React.createElement(e,_extends({},t,{insets:a,ref:r}))})}function useSafeArea(){return useSafeAreaInsets()}const SafeAreaConsumer=exports.SafeAreaConsumer=SafeAreaInsetsContext.Consumer,SafeAreaContext=exports.SafeAreaContext=SafeAreaInsetsContext;