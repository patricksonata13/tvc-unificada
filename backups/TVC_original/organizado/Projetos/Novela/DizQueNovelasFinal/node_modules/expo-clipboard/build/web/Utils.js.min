export function base64toBlob(e,t){t=t||"";const n=1024,r=atob(e),o=r.length,i=Math.ceil(o/n),a=new Array(i);for(let e=0;e<i;++e){const t=e*n,i=Math.min(t+n,o),s=new Array(i-t);for(let e=t,n=0;e<i;++n,++e)s[n]=r[e].charCodeAt(0);a[e]=new Uint8Array(s)}return new Blob(a,{type:t})}export function blobToBase64Async(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.readAsDataURL(e)})}export function htmlToPlainText(e){const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}export function getImageSizeFromBlobAsync(e){return new Promise((t,n)=>{const r=URL.createObjectURL(e),o=document.createElement("img");o.src=r,o.onload=function(){t({width:o.width,height:o.height})}})}export async function findImageInClipboardAsync(e){for(const t of e){if(t.types.some(e=>"image/png"===e))return await t.getType("image/png");if(t.types.some(e=>"image/jpeg"===e))return await t.getType("image/jpeg")}return null}export async function findHtmlInClipboardAsync(e){for(const t of e)if(t.types.some(e=>"text/html"===e))return await t.getType("text/html");return null}export async function isClipboardPermissionDeniedAsync(){return"denied"===(await navigator.permissions.query({name:"clipboard-read"})).state}