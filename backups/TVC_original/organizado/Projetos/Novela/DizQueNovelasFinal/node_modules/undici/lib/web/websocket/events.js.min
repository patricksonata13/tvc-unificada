"use strict";const{webidl:webidl}=require("../fetch/webidl"),{kEnumerableProperty:kEnumerableProperty}=require("../../core/util"),{kConstruct:kConstruct}=require("../../core/symbols"),{MessagePort:MessagePort}=require("node:worker_threads");class MessageEvent extends Event{#e;constructor(e,t={}){if(e===kConstruct)return super(arguments[1],arguments[2]),void webidl.util.markAsUncloneable(this);const r="MessageEvent constructor";webidl.argumentLengthCheck(arguments,1,r),super(e=webidl.converters.DOMString(e,r,"type"),t=webidl.converters.MessageEventInit(t,r,"eventInitDict")),this.#e=t,webidl.util.markAsUncloneable(this)}get data(){return webidl.brandCheck(this,MessageEvent),this.#e.data}get origin(){return webidl.brandCheck(this,MessageEvent),this.#e.origin}get lastEventId(){return webidl.brandCheck(this,MessageEvent),this.#e.lastEventId}get source(){return webidl.brandCheck(this,MessageEvent),this.#e.source}get ports(){return webidl.brandCheck(this,MessageEvent),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(e,t=!1,r=!1,n=null,s="",o="",i=null,l=[]){return webidl.brandCheck(this,MessageEvent),webidl.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new MessageEvent(e,{bubbles:t,cancelable:r,data:n,origin:s,lastEventId:o,source:i,ports:l})}static createFastMessageEvent(e,t){const r=new MessageEvent(kConstruct,e,t);return r.#e=t,r.#e.data??=null,r.#e.origin??="",r.#e.lastEventId??="",r.#e.source??=null,r.#e.ports??=[],r}}const{createFastMessageEvent:createFastMessageEvent}=MessageEvent;delete MessageEvent.createFastMessageEvent;class CloseEvent extends Event{#e;constructor(e,t={}){const r="CloseEvent constructor";webidl.argumentLengthCheck(arguments,1,r),super(e=webidl.converters.DOMString(e,r,"type"),t=webidl.converters.CloseEventInit(t)),this.#e=t,webidl.util.markAsUncloneable(this)}get wasClean(){return webidl.brandCheck(this,CloseEvent),this.#e.wasClean}get code(){return webidl.brandCheck(this,CloseEvent),this.#e.code}get reason(){return webidl.brandCheck(this,CloseEvent),this.#e.reason}}class ErrorEvent extends Event{#e;constructor(e,t){const r="ErrorEvent constructor";webidl.argumentLengthCheck(arguments,1,r),super(e,t),webidl.util.markAsUncloneable(this),e=webidl.converters.DOMString(e,r,"type"),t=webidl.converters.ErrorEventInit(t??{}),this.#e=t}get message(){return webidl.brandCheck(this,ErrorEvent),this.#e.message}get filename(){return webidl.brandCheck(this,ErrorEvent),this.#e.filename}get lineno(){return webidl.brandCheck(this,ErrorEvent),this.#e.lineno}get colno(){return webidl.brandCheck(this,ErrorEvent),this.#e.colno}get error(){return webidl.brandCheck(this,ErrorEvent),this.#e.error}}Object.defineProperties(MessageEvent.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:kEnumerableProperty,origin:kEnumerableProperty,lastEventId:kEnumerableProperty,source:kEnumerableProperty,ports:kEnumerableProperty,initMessageEvent:kEnumerableProperty}),Object.defineProperties(CloseEvent.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:kEnumerableProperty,code:kEnumerableProperty,wasClean:kEnumerableProperty}),Object.defineProperties(ErrorEvent.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:kEnumerableProperty,filename:kEnumerableProperty,lineno:kEnumerableProperty,colno:kEnumerableProperty,error:kEnumerableProperty}),webidl.converters.MessagePort=webidl.interfaceConverter(MessagePort),webidl.converters["sequence<MessagePort>"]=webidl.sequenceConverter(webidl.converters.MessagePort);const eventInit=[{key:"bubbles",converter:webidl.converters.boolean,defaultValue:()=>!1},{key:"cancelable",converter:webidl.converters.boolean,defaultValue:()=>!1},{key:"composed",converter:webidl.converters.boolean,defaultValue:()=>!1}];webidl.converters.MessageEventInit=webidl.dictionaryConverter([...eventInit,{key:"data",converter:webidl.converters.any,defaultValue:()=>null},{key:"origin",converter:webidl.converters.USVString,defaultValue:()=>""},{key:"lastEventId",converter:webidl.converters.DOMString,defaultValue:()=>""},{key:"source",converter:webidl.nullableConverter(webidl.converters.MessagePort),defaultValue:()=>null},{key:"ports",converter:webidl.converters["sequence<MessagePort>"],defaultValue:()=>new Array(0)}]),webidl.converters.CloseEventInit=webidl.dictionaryConverter([...eventInit,{key:"wasClean",converter:webidl.converters.boolean,defaultValue:()=>!1},{key:"code",converter:webidl.converters["unsigned short"],defaultValue:()=>0},{key:"reason",converter:webidl.converters.USVString,defaultValue:()=>""}]),webidl.converters.ErrorEventInit=webidl.dictionaryConverter([...eventInit,{key:"message",converter:webidl.converters.DOMString,defaultValue:()=>""},{key:"filename",converter:webidl.converters.USVString,defaultValue:()=>""},{key:"lineno",converter:webidl.converters["unsigned long"],defaultValue:()=>0},{key:"colno",converter:webidl.converters["unsigned long"],defaultValue:()=>0},{key:"error",converter:webidl.converters.any}]),module.exports={MessageEvent:MessageEvent,CloseEvent:CloseEvent,ErrorEvent:ErrorEvent,createFastMessageEvent:createFastMessageEvent};