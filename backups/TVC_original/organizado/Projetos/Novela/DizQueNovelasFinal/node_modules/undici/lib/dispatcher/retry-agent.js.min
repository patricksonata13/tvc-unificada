"use strict";const Dispatcher=require("./dispatcher"),RetryHandler=require("../handler/retry-handler");class RetryAgent extends Dispatcher{#t=null;#e=null;constructor(t,e={}){super(e),this.#t=t,this.#e=e}dispatch(t,e){const r=new RetryHandler({...t,retryOptions:this.#e},{dispatch:this.#t.dispatch.bind(this.#t),handler:e});return this.#t.dispatch(t,r)}close(){return this.#t.close()}destroy(){return this.#t.destroy()}}module.exports=RetryAgent;