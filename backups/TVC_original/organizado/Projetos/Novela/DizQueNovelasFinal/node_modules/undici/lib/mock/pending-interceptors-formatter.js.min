"use strict";const{Transform:Transform}=require("node:stream"),{Console:Console}=require("node:console"),PERSISTENT=process.versions.icu?"✅":"Y ",NOT_PERSISTENT=process.versions.icu?"❌":"N ";module.exports=class{constructor({disableColors:s}={}){this.transform=new Transform({transform(s,o,r){r(null,s)}}),this.logger=new Console({stdout:this.transform,inspectOptions:{colors:!s&&!process.env.CI}})}format(s){const o=s.map(({method:s,path:o,data:{statusCode:r},persist:t,times:e,timesInvoked:n,origin:i})=>({Method:s,Origin:i,Path:o,"Status code":r,Persistent:t?PERSISTENT:NOT_PERSISTENT,Invocations:n,Remaining:t?1/0:e-n}));return this.logger.table(o),this.transform.read().toString()}};