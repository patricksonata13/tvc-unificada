"use strict";var SyncReader=module.exports=function(e){this._buffer=e,this._reads=[]};SyncReader.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},SyncReader.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var e=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=e.length||e.allowLess))break;this._reads.shift();var t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}return this._reads.length>0?new Error("There are some read requests waitng on finished stream"):this._buffer.length>0?new Error("unrecognised content at end of stream"):void 0};