"use strict";var util=require("util"),ChunkStream=require("./chunkstream"),Filter=require("./filter-parse"),FilterAsync=module.exports=function(t){ChunkStream.call(this);var e=[],i=this;this._filter=new Filter(t,{read:this.read.bind(this),write:function(t){e.push(t)},complete:function(){i.emit("complete",Buffer.concat(e))}}),this._filter.start()};util.inherits(FilterAsync,ChunkStream);