"use strict";const{bundleCommand:bc}=require("@react-native/community-cli-plugin"),{execSync:execSync}=require("child_process"),commander=require("commander"),{readFileSync:readFileSync}=require("fs"),path=require("path"),program=commander.program??commander;if(program.version(JSON.parse(readFileSync(path.resolve(__dirname,"..","package.json"),"utf8")).version),program.name(bc.name).description(bc.description??"").option("--config-cmd <string>","Command to generate a JSON project config","npx react-native config").option("--load-config <string>","JSON project config").option("--verbose","Additional logs",()=>!0,!1).allowUnknownOption().action(async function(){let o=null,e=program.opts();if(null!=e.loadConfig?o=JSON.parse(e.loadConfig.replace(/^\W*'/,"").replace(/'\W*$/,"")):null!=e.configCmd&&(o=JSON.parse(execSync(e.configCmd.trim(),{encoding:"utf8"}))),null==o)throw new Error("No config provided");await bc.func(program.args,o,e)}),null!=bc.options)for(const o of bc.options)program.option(o.name,o.description??"",o.parse??(o=>o),o.default);require.main===module&&program.parse(process.argv),module.exports=program;