var defaultIsMergeableObject=require("is-mergeable-object");function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,r){return!1!==r.clone&&r.isMergeableObject(e)?deepmerge(emptyTarget(e),e,r):e}function defaultArrayMerge(e,r,t){return e.concat(r).map(function(e){return cloneUnlessOtherwiseSpecified(e,t)})}function getMergeFunction(e,r){if(!r.customMerge)return deepmerge;var t=r.customMerge(e);return"function"==typeof t?t:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(r){return Object.propertyIsEnumerable.call(e,r)}):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,r){try{return r in e}catch(e){return!1}}function propertyIsUnsafe(e,r){return propertyIsOnObject(e,r)&&!(Object.hasOwnProperty.call(e,r)&&Object.propertyIsEnumerable.call(e,r))}function mergeObject(e,r,t){var n={};return t.isMergeableObject(e)&&getKeys(e).forEach(function(r){n[r]=cloneUnlessOtherwiseSpecified(e[r],t)}),getKeys(r).forEach(function(c){propertyIsUnsafe(e,c)||(propertyIsOnObject(e,c)&&t.isMergeableObject(r[c])?n[c]=getMergeFunction(c,t)(e[c],r[c],t):n[c]=cloneUnlessOtherwiseSpecified(r[c],t))}),n}function deepmerge(e,r,t){(t=t||{}).arrayMerge=t.arrayMerge||defaultArrayMerge,t.isMergeableObject=t.isMergeableObject||defaultIsMergeableObject,t.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var n=Array.isArray(r);return n===Array.isArray(e)?n?t.arrayMerge(e,r,t):mergeObject(e,r,t):cloneUnlessOtherwiseSpecified(r,t)}deepmerge.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,t){return deepmerge(e,t,r)},{})},module.exports=deepmerge;