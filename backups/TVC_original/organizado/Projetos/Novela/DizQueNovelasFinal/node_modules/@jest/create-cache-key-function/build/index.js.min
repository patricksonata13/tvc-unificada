"use strict";function _crypto(){const e=require("crypto");return _crypto=function(){return e},e}function _fs(){const e=require("fs");return _fs=function(){return e},e}function _path(){const e=require("path");return _path=function(){return e},e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createCacheKey;const{NODE_ENV:NODE_ENV,BABEL_ENV:BABEL_ENV}=process.env;function getGlobalCacheKey(e,t,r){return[NODE_ENV,BABEL_ENV,...t,...e.map(e=>(0,_fs().readFileSync)(e))].reduce((e,t)=>e.update("\0","utf8").update(t||""),(0,_crypto().createHash)("sha1")).digest("hex").substring(0,r)}function getCacheKeyFunction(e,t){return(r,n,u,c)=>{const a=c||u,{config:o,instrument:s}=a;return(0,_crypto().createHash)("sha1").update(e).update("\0","utf8").update(r).update("\0","utf8").update(o.rootDir?(0,_path().relative)(o.rootDir,n):"").update("\0","utf8").update(s?"instrument":"").digest("hex").substring(0,t)}}function createCacheKey(e=[],t=[],r=("win32"===process.platform?16:32)){return getCacheKeyFunction(getGlobalCacheKey(e,t,r),r)}