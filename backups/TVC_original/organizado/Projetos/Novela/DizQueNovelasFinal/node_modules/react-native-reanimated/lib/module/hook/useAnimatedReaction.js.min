"use strict";import{useEffect}from"react";import{SHOULD_BE_USE_WEB}from"../common";import{startMapper,stopMapper}from"../core";import{useSharedValue}from"./useSharedValue";export function useAnimatedReaction(e,t,r){const o=useSharedValue(null);let s=Object.values(e.__closure??{});SHOULD_BE_USE_WEB&&!s.length&&r?.length&&(s=r),void 0===r?r=[...Object.values(e.__closure??{}),...Object.values(t.__closure??{}),e.__workletHash,t.__workletHash]:r.push(e.__workletHash,t.__workletHash),useEffect(()=>{const r=startMapper(()=>{const r=e();t(r,o.value),o.value=r},s);return()=>{stopMapper(r)}},r)}