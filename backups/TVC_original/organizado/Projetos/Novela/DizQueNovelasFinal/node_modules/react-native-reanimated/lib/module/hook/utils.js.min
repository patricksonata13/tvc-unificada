"use strict";import{isWorkletFunction}from"react-native-worklets";import{ReanimatedError}from"../common";export function buildWorkletsHash(e){return Object.values(e).reduce((e,t)=>e+t.__workletHash.toString(),"")}export function buildDependencies(e,t){const r=Object.values(t).filter(e=>void 0!==e);return e?(e.push(buildWorkletsHash(r)),e):r}function areWorkletsEqual(e,t){if(e.__workletHash===t.__workletHash){const r=Object.keys(e.__closure),n=Object.keys(t.__closure);return r.length===n.length&&r.every(r=>r in t.__closure&&e.__closure[r]===t.__closure[r])}return!1}export function areDependenciesEqual(e,t){const r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||Number.isNaN(e)&&Number.isNaN(t)};return function(e,t){if(!e||!t||t.length!==e.length)return!1;for(let n=0;n<t.length;++n){const o=e[n],i=t[n];if(!r(o,i)){if(!isWorkletFunction(o)||!isWorkletFunction(i))return!1;if(!areWorkletsEqual(o,i))return!1}}return!0}(e,t)}export function isAnimated(e){return Array.isArray(e)?e.some(isAnimated):"object"==typeof e&&null!==e&&(void 0!==e.onFrame||Object.values(e).some(isAnimated))}export function shallowEqual(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let n=0;n<r.length;n++)if(e[r[n]]!==t[r[n]])return!1;return!0}export function validateAnimatedStyles(e){if("object"!=typeof e)throw new ReanimatedError(`\`useAnimatedStyle\` has to return an object, found ${typeof e} instead.`);if(Array.isArray(e))throw new ReanimatedError("`useAnimatedStyle` has to return an object and cannot return static styles combined with dynamic ones. Please do merging where a component receives props.")}