"use strict";import{useMemo,useRef}from"react";import{FlatList}from"react-native";import{createAnimatedComponent}from"../createAnimatedComponent";import{LayoutAnimationConfig}from"./LayoutAnimationConfig";import{AnimatedView}from"./View";import{jsx as _jsx}from"react/jsx-runtime";const AnimatedFlatList=createAnimatedComponent(FlatList),createCellRendererComponent=(e,t)=>n=>_jsx(AnimatedView,{layout:e?.current,onLayout:n.onLayout,style:[n.style,"function"==typeof t?.current?t?.current({index:n.index,item:n.item}):t?.current],children:n.children}),FlatListRender=function(e,t){const{itemLayoutAnimation:n,skipEnteringExitingAnimations:i,CellRendererComponentStyle:o,...r}=e;"scrollEventThrottle"in r||(r.scrollEventThrottle=1);const a=useRef(n);a.current=n;const m=useRef(o);m.current=o;const s=useMemo(()=>createCellRendererComponent(a,m),[]),c=_jsx(AnimatedFlatList,{ref:t,...r,CellRendererComponent:s});return void 0===i?c:_jsx(LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:c})};export const ReanimatedFlatList=FlatListRender;