"use strict";export function valueSetter(e,t,n=!1){const a=e._animation;if(a&&(a.cancelled=!0,e._animation=null),"function"==typeof t||null!==t&&"object"==typeof t&&void 0!==t.onFrame){const i="function"==typeof t?t():t;if(e._value===i.current&&!i.isHigherOrder&&!n)return void i.callback?.(!0);const o=t=>{i.onStart(i,e.value,t,a)},l=global.__frameTimestamp||global._getAnimationTimestamp();o(l);const c=t=>{const n=t<(i.timestamp||0)?i.timestamp:t;if(i.cancelled)return void i.callback?.(!1);const a=i.onFrame(i,n);i.finished=!0,i.timestamp=n,e._value=i.current,a?i.callback?.(!0):requestAnimationFrame(c)};e._animation=i,c(l)}else{if(e._value===t&&!n)return;e._value=t}}