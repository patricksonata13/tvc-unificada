"use strict";import{ReanimatedError}from"../../common";import{isTimeUnit,smellsLikeTimingFunction}from"./guards";export function splitByComma(i){const t=[];let n="",o=0;for(const r of i){if("("===r)o++;else if(")"===r)o--;else if(","===r&&0===o){t.push(n.trim()),n="";continue}n+=r}return t.push(n.trim()),t}export function splitByWhitespace(i){return i.split(/\s+(?![^()]*\))/)}export function parseSingleTransitionShorthand(i){const t={},n=splitByWhitespace(i);for(const o of n)if("all"!==o)if("normal"!==o&&"allow-discrete"!==o){if(isTimeUnit(o)){const i=o;if(void 0===t.transitionDuration){t.transitionDuration=i;continue}if(void 0===t.transitionDelay){t.transitionDelay=i;continue}}if(void 0===t.transitionTimingFunction&&smellsLikeTimingFunction(o))t.transitionTimingFunction=o;else{if(void 0!==t.transitionProperty)throw new ReanimatedError(`Invalid transition shorthand: ${i}`);t.transitionProperty=o}}else t.transitionBehavior=o;else t.transitionProperty="all";return t}