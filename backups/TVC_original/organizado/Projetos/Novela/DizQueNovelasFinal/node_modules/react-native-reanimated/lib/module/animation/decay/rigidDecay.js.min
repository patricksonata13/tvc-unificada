"use strict";import{SLOPE_FACTOR,VELOCITY_EPS}from"./utils";export function rigidDecay(t,r,e){const{lastTimestamp:c,startTimestamp:i,initialVelocity:a,current:n,velocity:l}=t,m=Math.min(r-c,64),u=l*Math.exp(-(1-e.deceleration)*(r-i)*SLOPE_FACTOR);if(t.current=n+u*e.velocityFactor*m/1e3,t.velocity=u,t.lastTimestamp=r,e.clamp){if(a<0&&t.current<=e.clamp[0])return t.current=e.clamp[0],!0;if(a>0&&t.current>=e.clamp[1])return t.current=e.clamp[1],!0}return Math.abs(u)<VELOCITY_EPS}