"use strict";import{useEffect,useRef}from"react";import FrameCallbackRegistryJS from"../frameCallback/FrameCallbackRegistryJS";const frameCallbackRegistry=new FrameCallbackRegistryJS;export function useFrameCallback(e,a=!0){const r=useRef({setActive:e=>{frameCallbackRegistry.manageStateFrameCallback(r.current.callbackId,e),r.current.isActive=e},isActive:a,callbackId:-1});return useEffect(()=>{r.current.callbackId=frameCallbackRegistry.registerFrameCallback(e);const a=r.current;return r.current.setActive(r.current.isActive),()=>{frameCallbackRegistry.unregisterFrameCallback(a.callbackId),a.callbackId=-1}},[e,a]),r.current}