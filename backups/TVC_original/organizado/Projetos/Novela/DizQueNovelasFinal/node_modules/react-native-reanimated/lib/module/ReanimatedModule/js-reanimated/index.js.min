"use strict";import{logger}from"../../common";import{createReactDOMStyle,createTextShadowValue,createTransformValue}from"./webUtils";export{createJSReanimatedModule}from"./JSReanimated";export const _updatePropsJS=(e,t,o)=>{if(t){const a=t.getAnimatableRef?t.getAnimatableRef():t,[r]=Object.keys(e).reduce((t,o)=>{const a=e[o];return t["function"==typeof a?1:0][o]=a,t},[{},{}]);if("function"==typeof a.setNativeProps)setNativeProps(a,r,o);else if(void 0!==createReactDOMStyle&&void 0!==a.style)updatePropsDOM(a,r,o);else if(Object.keys(a.props).length>0)Object.keys(a.props).forEach(e=>{if(!r[e])return;const t=e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase());a._touchableNode.setAttribute(t,r[e])});else{const e="className"in a?a?.className:"";logger.warn(`It's not possible to manipulate the component ${e}`)}}};const setNativeProps=(e,t,o)=>{o&&e.setNativeProps?.(t);const a={...e.previousStyle?e.previousStyle:{},...t};e.previousStyle=a,e.setNativeProps?.({style:a})},updatePropsDOM=(e,t,o)=>{const a={...e.previousStyle?e.previousStyle:{},...t};e.previousStyle=a;const r=createReactDOMStyle(a);Array.isArray(r.transform)&&void 0!==createTransformValue&&(r.transform=createTransformValue(r.transform)),void 0!==createTextShadowValue&&(r.textShadowColor||r.textShadowRadius||r.textShadowOffset)&&(r.textShadow=createTextShadowValue({textShadowColor:r.textShadowColor,textShadowOffset:r.textShadowOffset,textShadowRadius:r.textShadowRadius}));for(const t in r)o?"INPUT"===e.nodeName&&"text"===t?e.value=r[t]:e.setAttribute(t,r[t]):e.style[t]=r[t]};