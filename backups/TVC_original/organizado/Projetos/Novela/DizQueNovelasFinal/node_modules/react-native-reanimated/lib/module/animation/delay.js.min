"use strict";import{defineAnimation,getReduceMotionForAnimation}from"./util";export const withDelay=function(t,n,r){return defineAnimation(n,()=>{const e="function"==typeof n?n():n;return{isHigherOrder:!0,onFrame:function(n,r){const{startTime:i,started:o,previousAnimation:u}=n,c=n.current;if(r-i>=t||n.reduceMotion){o||(e.onStart(e,c,r,u),n.previousAnimation=null,n.started=!0);const t=e.onFrame(e,r);return n.current=e.current,t}if(u){const t=u.finished||u.onFrame(u,r);n.current=u.current,t&&(n.previousAnimation=null)}return!1},onStart:function(t,n,r,i){t.startTime=r,t.started=!1,t.current=n,t.previousAnimation=i===t?i.previousAnimation:i,void 0===e.reduceMotion&&(e.reduceMotion=t.reduceMotion)},current:e.current,callback:t=>{e.callback&&e.callback(t)},previousAnimation:null,startTime:0,started:!1,reduceMotion:getReduceMotionForAnimation(r)}})};