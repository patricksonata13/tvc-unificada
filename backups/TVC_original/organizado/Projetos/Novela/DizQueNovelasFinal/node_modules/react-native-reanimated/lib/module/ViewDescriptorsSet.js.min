"use strict";import{makeMutable}from"./core";export function makeViewDescriptorsSet(){const e=makeMutable([]),t=new Set;return{shareableViewDescriptors:e,add:(r,a)=>{t.add(r.tag);const n=a?.current;e.modify(e=>{const t=e.findIndex(e=>e.tag===r.tag);return-1!==t?e[t]=r:e.push(r),n?.(!0),e},!1)},remove:r=>{t.delete(r),e.modify(e=>{const t=e.findIndex(e=>e.tag===r);return-1!==t&&e.splice(t,1),e},!1)},has:e=>t.has(e)}}