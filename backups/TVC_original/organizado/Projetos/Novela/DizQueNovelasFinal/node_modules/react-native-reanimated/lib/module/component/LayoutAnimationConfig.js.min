"use strict";import{Children,Component,createContext,useEffect,useRef}from"react";import{setShouldAnimateExitingForTag}from"../core";import{findNodeHandle}from"../platformFunctions/findNodeHandle";import{jsx as _jsx}from"react/jsx-runtime";export const SkipEnteringContext=createContext(null);function SkipEntering(i){const t=useRef(i.shouldSkip);return useEffect(()=>{t.current=!1},[t]),_jsx(SkipEnteringContext,{value:t,children:i.children})}export class LayoutAnimationConfig extends Component{getMaybeWrappedChildren(){return Children.count(this.props.children)>1&&this.props.skipExiting?Children.map(this.props.children,i=>_jsx(LayoutAnimationConfig,{skipExiting:!0,children:i})):this.props.children}setShouldAnimateExiting(){if(1===Children.count(this.props.children)){const i=findNodeHandle(this);i&&setShouldAnimateExitingForTag(i,!this.props.skipExiting)}}componentWillUnmount(){void 0!==this.props.skipExiting&&this.setShouldAnimateExiting()}render(){const i=this.getMaybeWrappedChildren();return void 0===this.props.skipEntering?i:_jsx(SkipEntering,{shouldSkip:this.props.skipEntering,children:i})}}