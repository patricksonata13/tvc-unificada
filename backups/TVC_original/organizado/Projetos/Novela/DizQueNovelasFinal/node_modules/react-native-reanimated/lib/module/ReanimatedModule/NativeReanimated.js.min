"use strict";import{executeOnUIRuntimeSync,WorkletsModule}from"react-native-worklets";import{ReanimatedError,registerReanimatedError,SHOULD_BE_USE_WEB}from"../common";import{getShadowNodeWrapperFromRef}from"../fabricUtils";import{checkCppVersion}from"../platform-specific/checkCppVersion";import{jsVersion}from"../platform-specific/jsVersion";import{assertWorkletsVersion}from"../platform-specific/workletsVersion";import{ReanimatedTurboModule}from"../specs";export function createNativeReanimatedModule(){return new NativeReanimatedModule}function assertSingleReanimatedInstance(){if(void 0!==global._REANIMATED_VERSION_JS&&global._REANIMATED_VERSION_JS!==jsVersion)throw new ReanimatedError(`Another instance of Reanimated was detected.\nSee \`https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#another-instance-of-reanimated-was-detected\` for more details. Previous: ${global._REANIMATED_VERSION_JS}, current: ${jsVersion}.`)}class NativeReanimatedModule{#e;#r;constructor(){if(this.#e=WorkletsModule,__DEV__&&(assertSingleReanimatedInstance(),assertWorkletsVersion()),global._REANIMATED_VERSION_JS=jsVersion,void 0!==global.__reanimatedModuleProxy||!ReanimatedTurboModule||ReanimatedTurboModule.installTurboModule()){if(void 0===global.__reanimatedModuleProxy)throw new ReanimatedError("Native part of Reanimated doesn't seem to be initialized.\nSee https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#native-part-of-reanimated-doesnt-seem-to-be-initialized for more details.");if(!globalThis.RN$Bridgeless&&!SHOULD_BE_USE_WEB)throw new ReanimatedError("Reanimated 4 supports only the React Native New Architecture and web.");__DEV__&&checkCppVersion(),this.#r=global.__reanimatedModuleProxy,executeOnUIRuntimeSync(function(){registerReanimatedError()})()}else this.#r=new DummyReanimatedModuleProxy}registerSensor(e,r,t,i){return this.#r.registerSensor(e,r,t,i)}unregisterSensor(e){return this.#r.unregisterSensor(e)}registerEventHandler(e,r,t){return this.#r.registerEventHandler(e,r,t)}unregisterEventHandler(e){return this.#r.unregisterEventHandler(e)}getViewProp(e,r,t,i){const a=getShadowNodeWrapperFromRef(t);return this.#r.getViewProp(a,r,i)}configureLayoutAnimationBatch(e){this.#r.configureLayoutAnimationBatch(e)}setShouldAnimateExitingForTag(e,r){this.#r.setShouldAnimateExitingForTag(e,r)}getStaticFeatureFlag(e){return this.#r.getStaticFeatureFlag(e)}setDynamicFeatureFlag(e,r){this.#r.setDynamicFeatureFlag(e,r)}subscribeForKeyboardEvents(e,r,t){return this.#r.subscribeForKeyboardEvents(e,r,t)}unsubscribeFromKeyboardEvents(e){this.#r.unsubscribeFromKeyboardEvents(e)}setViewStyle(e,r){this.#r.setViewStyle(e,r)}markNodeAsRemovable(e){this.#r.markNodeAsRemovable(e)}unmarkNodeAsRemovable(e){this.#r.unmarkNodeAsRemovable(e)}registerCSSKeyframes(e,r,t){this.#r.registerCSSKeyframes(e,r,t)}unregisterCSSKeyframes(e,r){this.#r.unregisterCSSKeyframes(e,r)}applyCSSAnimations(e,r){this.#r.applyCSSAnimations(e,r)}unregisterCSSAnimations(e){this.#r.unregisterCSSAnimations(e)}registerCSSTransition(e,r){this.#r.registerCSSTransition(e,r)}updateCSSTransition(e,r){this.#r.updateCSSTransition(e,r)}unregisterCSSTransition(e){this.#r.unregisterCSSTransition(e)}}class DummyReanimatedModuleProxy{configureLayoutAnimationBatch(){}setShouldAnimateExitingForTag(){}getStaticFeatureFlag(){return!1}setDynamicFeatureFlag(){}subscribeForKeyboardEvents(){return-1}unsubscribeFromKeyboardEvents(){}setViewStyle(){}markNodeAsRemovable(){}unmarkNodeAsRemovable(){}registerCSSKeyframes(){}unregisterCSSKeyframes(){}applyCSSAnimations(){}registerCSSAnimations(){}updateCSSAnimations(){}unregisterCSSAnimations(){}registerCSSTransition(){}updateCSSTransition(){}unregisterCSSTransition(){}registerSensor(){return-1}unregisterSensor(){}registerEventHandler(){return-1}unregisterEventHandler(){}getViewProp(){return null}}