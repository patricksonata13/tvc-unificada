"use strict";const pTry=require("p-try"),pLimit=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},i=(e,t,...i)=>{r++;const u=pTry(e,...i);t(u),u.then(n,n)},u=(n,...u)=>new Promise(o=>((n,u,...o)=>{r<e?i(n,u,...o):t.push(i.bind(null,n,u,...o))})(n,o,...u));return Object.defineProperties(u,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),u};module.exports=pLimit,module.exports.default=pLimit;