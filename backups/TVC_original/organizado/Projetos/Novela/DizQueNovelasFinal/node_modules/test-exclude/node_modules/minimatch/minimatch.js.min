module.exports=minimatch,minimatch.Minimatch=Minimatch;var path=function(){try{return require("path")}catch(t){}}()||{sep:"/"};minimatch.sep=path.sep;var GLOBSTAR=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={},expand=require("brace-expansion"),plTypes={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},qmark="[^/]",star=qmark+"*?",twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?",reSpecials=charSet("().*{}+?[]^$\\!");function charSet(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}var slashSplit=/\/+/;function filter(t,e){return e=e||{},function(n,i,r){return minimatch(n,t,e)}}function ext(t,e){e=e||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function minimatch(t,e,n){return assertValidPattern(e),n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&new Minimatch(e,n).match(t)}function Minimatch(t,e){if(!(this instanceof Minimatch))return new Minimatch(t,e);assertValidPattern(t),e||(e={}),t=t.trim(),e.allowWindowsEscape||"/"===path.sep||(t=t.split(path.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}function make(){var t=this.pattern,e=this.options;if(e.nocomment||"#"!==t.charAt(0))if(t){this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,n),n=this.globParts=n.map(function(t){return t.split(slashSplit)}),this.debug(this.pattern,n),n=n.map(function(t,e,n){return t.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0}function parseNegate(){var t=this.pattern,e=!1,n=0;if(!this.options.nonegate){for(var i=0,r=t.length;i<r&&"!"===t.charAt(i);i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}function braceExpand(t,e){return e||(e=this instanceof Minimatch?this.options:{}),t=void 0===t?this.pattern:t,assertValidPattern(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:expand(t)}minimatch.filter=filter,minimatch.defaults=function(t){if(!t||"object"!=typeof t||!Object.keys(t).length)return minimatch;var e=minimatch,n=function(n,i,r){return e(n,i,ext(t,r))};return(n.Minimatch=function(n,i){return new e.Minimatch(n,ext(t,i))}).defaults=function(n){return e.defaults(ext(t,n)).Minimatch},n.filter=function(n,i){return e.filter(n,ext(t,i))},n.defaults=function(n){return e.defaults(ext(t,n))},n.makeRe=function(n,i){return e.makeRe(n,ext(t,i))},n.braceExpand=function(n,i){return e.braceExpand(n,ext(t,i))},n.match=function(n,i,r){return e.match(n,i,ext(t,r))},n},Minimatch.defaults=function(t){return minimatch.defaults(t).Minimatch},Minimatch.prototype.debug=function(){},Minimatch.prototype.make=make,Minimatch.prototype.parseNegate=parseNegate,minimatch.braceExpand=function(t,e){return braceExpand(t,e)},Minimatch.prototype.braceExpand=braceExpand;var MAX_PATTERN_LENGTH=65536,assertValidPattern=function(t){if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>MAX_PATTERN_LENGTH)throw new TypeError("pattern is too long")};Minimatch.prototype.parse=parse;var SUBPARSE={};function parse(t,e){assertValidPattern(t);var n=this.options;if("**"===t){if(!n.noglobstar)return GLOBSTAR;t="*"}if(""===t)return"";var i,r="",a=!!n.nocase,s=!1,c=[],h=[],o=!1,u=-1,p=-1,l="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",f=this;function m(){if(i){switch(i){case"*":r+=star,a=!0;break;case"?":r+=qmark,a=!0;break;default:r+="\\"+i}f.debug("clearStateChar %j %j",i,r),i=!1}}for(var g,d=0,b=t.length;d<b&&(g=t.charAt(d));d++)if(this.debug("%s\t%s %s %j",t,d,r,g),s&&reSpecials[g])r+="\\"+g,s=!1;else switch(g){case"/":return!1;case"\\":m(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,d,r,g),o){this.debug("  in class"),"!"===g&&d===p+1&&(g="^"),r+=g;continue}f.debug("call clearStateChar %j",i),m(),i=g,n.noext&&m();continue;case"(":if(o){r+="(";continue}if(!i){r+="\\(";continue}c.push({type:i,start:d-1,reStart:r.length,open:plTypes[i].open,close:plTypes[i].close}),r+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,r),i=!1;continue;case")":if(o||!c.length){r+="\\)";continue}m(),a=!0;var v=c.pop();r+=v.close,"!"===v.type&&h.push(v),v.reEnd=r.length;continue;case"|":if(o||!c.length||s){r+="\\|",s=!1;continue}m(),r+="|";continue;case"[":if(m(),o){r+="\\"+g;continue}o=!0,p=d,u=r.length,r+=g;continue;case"]":if(d===p+1||!o){r+="\\"+g,s=!1;continue}var x=t.substring(p+1,d);try{RegExp("["+x+"]")}catch(t){var S=this.parse(x,SUBPARSE);r=r.substr(0,u)+"\\["+S[0]+"\\]",a=a||S[1],o=!1;continue}a=!0,o=!1,r+=g;continue;default:m(),s?s=!1:!reSpecials[g]||"^"===g&&o||(r+="\\"),r+=g}for(o&&(x=t.substr(p+1),S=this.parse(x,SUBPARSE),r=r.substr(0,u)+"\\["+S[0],a=a||S[1]),v=c.pop();v;v=c.pop()){var E=r.slice(v.reStart+v.open.length);this.debug("setting tail",r,v),E=E.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,n){return n||(n="\\"),e+e+n+"|"}),this.debug("tail=%j\n   %s",E,E,v,r);var y="*"===v.type?star:"?"===v.type?qmark:"\\"+v.type;a=!0,r=r.slice(0,v.reStart)+y+"\\("+E}m(),s&&(r+="\\\\");var w=!1;switch(r.charAt(0)){case"[":case".":case"(":w=!0}for(var M=h.length-1;M>-1;M--){var R=h[M],A=r.slice(0,R.reStart),k=r.slice(R.reStart,R.reEnd-8),T=r.slice(R.reEnd-8,R.reEnd),O=r.slice(R.reEnd);T+=O;var j=A.split("(").length-1,B=O;for(d=0;d<j;d++)B=B.replace(/\)[+*?]?/,"");var P="";""===(O=B)&&e!==SUBPARSE&&(P="$"),r=A+k+O+P+T}if(""!==r&&a&&(r="(?=.)"+r),w&&(r=l+r),e===SUBPARSE)return[r,a];if(!a)return globUnescape(t);var N=n.nocase?"i":"";try{var $=new RegExp("^"+r+"$",N)}catch(t){return new RegExp("$.")}return $._glob=t,$._src=r,$}function makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?star:e.dot?twoStarDot:twoStarNoDot,i=e.nocase?"i":"",r=t.map(function(t){return t.map(function(t){return t===GLOBSTAR?n:"string"==typeof t?regExpEscape(t):t._src}).join("\\/")}).join("|");r="^(?:"+r+")$",this.negate&&(r="^(?!"+r+").*$");try{this.regexp=new RegExp(r,i)}catch(t){this.regexp=!1}return this.regexp}function globUnescape(t){return t.replace(/\\(.)/g,"$1")}function regExpEscape(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}minimatch.makeRe=function(t,e){return new Minimatch(t,e||{}).makeRe()},Minimatch.prototype.makeRe=makeRe,minimatch.match=function(t,e,n){var i=new Minimatch(e,n=n||{});return t=t.filter(function(t){return i.match(t)}),i.options.nonull&&!t.length&&t.push(e),t},Minimatch.prototype.match=function(t,e){if(void 0===e&&(e=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==path.sep&&(t=t.split(path.sep).join("/")),t=t.split(slashSplit),this.debug(this.pattern,"split",t);var i,r,a=this.set;for(this.debug(this.pattern,"set",a),r=t.length-1;r>=0&&!(i=t[r]);r--);for(r=0;r<a.length;r++){var s=a[r],c=t;if(n.matchBase&&1===s.length&&(c=[i]),this.matchOne(c,s,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},Minimatch.prototype.matchOne=function(t,e,n){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var r=0,a=0,s=t.length,c=e.length;r<s&&a<c;r++,a++){this.debug("matchOne loop");var h,o=e[a],u=t[r];if(this.debug(e,o,u),!1===o)return!1;if(o===GLOBSTAR){this.debug("GLOBSTAR",[e,o,u]);var p=r,l=a+1;if(l===c){for(this.debug("** at the end");r<s;r++)if("."===t[r]||".."===t[r]||!i.dot&&"."===t[r].charAt(0))return!1;return!0}for(;p<s;){var f=t[p];if(this.debug("\nglobstar while",t,p,e,l,f),this.matchOne(t.slice(p),e.slice(l),n))return this.debug("globstar found match!",p,s,f),!0;if("."===f||".."===f||!i.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,p,e,l);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",t,p,e,l),p!==s))}if("string"==typeof o?(h=u===o,this.debug("string match",o,u,h)):(h=u.match(o),this.debug("pattern match",o,u,h)),!h)return!1}if(r===s&&a===c)return!0;if(r===s)return n;if(a===c)return r===s-1&&""===t[r];throw new Error("wtf?")};