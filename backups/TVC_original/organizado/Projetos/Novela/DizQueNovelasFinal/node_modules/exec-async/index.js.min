var child_process=require("child_process");function escapeArg(r){return""===r?"''":(/[^A-Za-z0-9_\/:=-]/.test(r)&&(r=(r="'"+r.replace(/'/g,"'\\''")+"'").replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'")),r)}function argsFromKeyVal(r,e,s){s=s||{};var t="--";if(1===r.length&&(t="-"),!0===e||null==e)return t+r;if(!1===e)return[t+"no"+r];if(Array.isArray(e)){for(var a=[],o=0;o<e.length;o++)a=a.concat(argsFromKeyVal(r,e[o],s));return a}return 1===r.length||s.spaceForLongArgs?[t+r,e]:[t+r+"="+escapeArg(e)]}function argsListFromObject(r,e){if(!r)return[];if(Array.isArray(r))return argsListFromObject({_:r});for(var s=[],t=Object.keys(r),a=0;a<t.length;a++){var o=t[a];if("_"!==o[0]){var c=r[o];s=s.concat(argsFromKeyVal(o,c,e))}}if(r._)for(a=0;a<r._.length;a++)s.push(""+r._[a]);return s}function execAsync(r,e,s){return new Promise(function(t,a){child_process.execFile(r,argsListFromObject(e,s),s,function(r,e){r?a(r):t(e)})})}module.exports=execAsync,module.exports.argsListFromObject=argsListFromObject,module.exports.argsFromKeyVal=argsFromKeyVal,module.exports.escapeArg=escapeArg;