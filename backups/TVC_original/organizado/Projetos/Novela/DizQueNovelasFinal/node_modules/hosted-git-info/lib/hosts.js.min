"use strict";const maybeJoin=(...t)=>t.every(t=>t)?t.join(""):"",maybeEncode=t=>t?encodeURIComponent(t):"",formatHashFragment=t=>t.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-"),defaults={sshtemplate:({domain:t,user:e,project:i,committish:o})=>`git@${t}:${e}/${i}.git${maybeJoin("#",o)}`,sshurltemplate:({domain:t,user:e,project:i,committish:o})=>`git+ssh://git@${t}/${e}/${i}.git${maybeJoin("#",o)}`,edittemplate:({domain:t,user:e,project:i,committish:o,editpath:s,path:a})=>`https://${t}/${e}/${i}${maybeJoin("/",s,"/",maybeEncode(o||"HEAD"),"/",a)}`,browsetemplate:({domain:t,user:e,project:i,committish:o,treepath:s})=>`https://${t}/${e}/${i}${maybeJoin("/",s,"/",maybeEncode(o))}`,browsetreetemplate:({domain:t,user:e,project:i,committish:o,treepath:s,path:a,fragment:m,hashformat:h})=>`https://${t}/${e}/${i}/${s}/${maybeEncode(o||"HEAD")}/${a}${maybeJoin("#",h(m||""))}`,browseblobtemplate:({domain:t,user:e,project:i,committish:o,blobpath:s,path:a,fragment:m,hashformat:h})=>`https://${t}/${e}/${i}/${s}/${maybeEncode(o||"HEAD")}/${a}${maybeJoin("#",h(m||""))}`,docstemplate:({domain:t,user:e,project:i,treepath:o,committish:s})=>`https://${t}/${e}/${i}${maybeJoin("/",o,"/",maybeEncode(s))}#readme`,httpstemplate:({auth:t,domain:e,user:i,project:o,committish:s})=>`git+https://${maybeJoin(t,"@")}${e}/${i}/${o}.git${maybeJoin("#",s)}`,filetemplate:({domain:t,user:e,project:i,committish:o,path:s})=>`https://${t}/${e}/${i}/raw/${maybeEncode(o||"HEAD")}/${s}`,shortcuttemplate:({type:t,user:e,project:i,committish:o})=>`${t}:${e}/${i}${maybeJoin("#",o)}`,pathtemplate:({user:t,project:e,committish:i})=>`${t}/${e}${maybeJoin("#",i)}`,bugstemplate:({domain:t,user:e,project:i})=>`https://${t}/${e}/${i}/issues`,hashformat:formatHashFragment},hosts={};hosts.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:({auth:t,user:e,project:i,committish:o,path:s})=>`https://${maybeJoin(t,"@")}raw.githubusercontent.com/${e}/${i}/${maybeEncode(o||"HEAD")}/${s}`,gittemplate:({auth:t,domain:e,user:i,project:o,committish:s})=>`git://${maybeJoin(t,"@")}${e}/${i}/${o}.git${maybeJoin("#",s)}`,tarballtemplate:({domain:t,user:e,project:i,committish:o})=>`https://codeload.${t}/${e}/${i}/tar.gz/${maybeEncode(o||"HEAD")}`,extract:t=>{let[,e,i,o,s]=t.pathname.split("/",5);if((!o||"tree"===o)&&(o||(s=t.hash.slice(1)),i&&i.endsWith(".git")&&(i=i.slice(0,-4)),e&&i))return{user:e,project:i,committish:s}}},hosts.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:({domain:t,user:e,project:i,committish:o,treepath:s,path:a,editpath:m})=>`https://${t}/${e}/${i}${maybeJoin("/",s,"/",maybeEncode(o||"HEAD"),"/",a,m)}`,tarballtemplate:({domain:t,user:e,project:i,committish:o})=>`https://${t}/${e}/${i}/get/${maybeEncode(o||"HEAD")}.tar.gz`,extract:t=>{let[,e,i,o]=t.pathname.split("/",4);if(!["get"].includes(o)&&(i&&i.endsWith(".git")&&(i=i.slice(0,-4)),e&&i))return{user:e,project:i,committish:t.hash.slice(1)}}},hosts.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:({auth:t,domain:e,user:i,project:o,committish:s})=>`git+https://${maybeJoin(t,"@")}${e}/${i}/${o}.git${maybeJoin("#",s)}`,tarballtemplate:({domain:t,user:e,project:i,committish:o})=>`https://${t}/${e}/${i}/repository/archive.tar.gz?ref=${maybeEncode(o||"HEAD")}`,extract:t=>{const e=t.pathname.slice(1);if(e.includes("/-/")||e.includes("/archive.tar.gz"))return;const i=e.split("/");let o=i.pop();o.endsWith(".git")&&(o=o.slice(0,-4));const s=i.join("/");return s&&o?{user:s,project:o,committish:t.hash.slice(1)}:void 0}},hosts.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:({domain:t,project:e,committish:i})=>`git@${t}:${e}.git${maybeJoin("#",i)}`,sshurltemplate:({domain:t,project:e,committish:i})=>`git+ssh://git@${t}/${e}.git${maybeJoin("#",i)}`,edittemplate:({domain:t,user:e,project:i,committish:o,editpath:s})=>`https://${t}/${e}/${i}${maybeJoin("/",maybeEncode(o))}/${s}`,browsetemplate:({domain:t,project:e,committish:i})=>`https://${t}/${e}${maybeJoin("/",maybeEncode(i))}`,browsetreetemplate:({domain:t,project:e,committish:i,path:o,hashformat:s})=>`https://${t}/${e}${maybeJoin("/",maybeEncode(i))}${maybeJoin("#",s(o))}`,browseblobtemplate:({domain:t,project:e,committish:i,path:o,hashformat:s})=>`https://${t}/${e}${maybeJoin("/",maybeEncode(i))}${maybeJoin("#",s(o))}`,docstemplate:({domain:t,project:e,committish:i})=>`https://${t}/${e}${maybeJoin("/",maybeEncode(i))}`,httpstemplate:({domain:t,project:e,committish:i})=>`git+https://${t}/${e}.git${maybeJoin("#",i)}`,filetemplate:({user:t,project:e,committish:i,path:o})=>`https://gist.githubusercontent.com/${t}/${e}/raw${maybeJoin("/",maybeEncode(i))}/${o}`,shortcuttemplate:({type:t,project:e,committish:i})=>`${t}:${e}${maybeJoin("#",i)}`,pathtemplate:({project:t,committish:e})=>`${t}${maybeJoin("#",e)}`,bugstemplate:({domain:t,project:e})=>`https://${t}/${e}`,gittemplate:({domain:t,project:e,committish:i})=>`git://${t}/${e}.git${maybeJoin("#",i)}`,tarballtemplate:({project:t,committish:e})=>`https://codeload.github.com/gist/${t}/tar.gz/${maybeEncode(e||"HEAD")}`,extract:t=>{let[,e,i,o]=t.pathname.split("/",4);if("raw"!==o){if(!i){if(!e)return;i=e,e=null}return i.endsWith(".git")&&(i=i.slice(0,-4)),{user:e,project:i,committish:t.hash.slice(1)}}},hashformat:function(t){return t&&"file-"+formatHashFragment(t)}},hosts.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:({domain:t,user:e,project:i,committish:o,path:s})=>`https://${t}/${e}/${i}/blob/${maybeEncode(o)||"HEAD"}/${s}`,httpstemplate:({domain:t,user:e,project:i,committish:o})=>`https://${t}/${e}/${i}.git${maybeJoin("#",o)}`,tarballtemplate:({domain:t,user:e,project:i,committish:o})=>`https://${t}/${e}/${i}/archive/${maybeEncode(o)||"HEAD"}.tar.gz`,bugstemplate:()=>null,extract:t=>{let[,e,i,o]=t.pathname.split("/",4);if(!["archive"].includes(o)&&(i&&i.endsWith(".git")&&(i=i.slice(0,-4)),e&&i))return{user:e,project:i,committish:t.hash.slice(1)}}};for(const[t,e]of Object.entries(hosts))hosts[t]=Object.assign({},defaults,e);module.exports=hosts;