"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.searchCommand=searchCommand;const autolinkingOptions_1=require("./autolinkingOptions"),findModules_1=require("../autolinking/findModules");function searchCommand(n){return(0,autolinkingOptions_1.registerAutolinkingArguments)(n.command("search [searchPaths...]")).option("-j, --json","Output results in the plain JSON format.",()=>!0,!1).action(async(n,o)=>{const t=o.platform??"apple",i=(0,autolinkingOptions_1.createAutolinkingOptionsLoader)({...o,searchPaths:n}),e=await(0,findModules_1.findModulesAsync)({autolinkingOptions:await i.getPlatformOptions(t),appRoot:await i.getAppRoot()});o.json?console.log(JSON.stringify(e)):console.log(require("util").inspect(e,!1,null,!0))})}