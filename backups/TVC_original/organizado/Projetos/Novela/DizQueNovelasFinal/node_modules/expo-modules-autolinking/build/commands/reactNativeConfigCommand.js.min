"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reactNativeConfigCommand=reactNativeConfigCommand;const autolinkingOptions_1=require("./autolinkingOptions"),reactNativeConfig_1=require("../reactNativeConfig");function reactNativeConfigCommand(t){return(0,autolinkingOptions_1.registerAutolinkingArguments)(t.command("react-native-config [searchPaths...]")).option("-p, --platform [platform]",'The platform that the resulting modules must support. Available options: "android", "ios"',"ios").option("--source-dir <sourceDir>","The path to the native source directory").option("-j, --json","Output results in the plain JSON format.",()=>!0,!1).action(async(t,o)=>{const i=o.platform??"ios";if("android"!==i&&"ios"!==i)throw new Error(`Unsupported platform: ${i}`);const e=(0,autolinkingOptions_1.createAutolinkingOptionsLoader)({...o,searchPaths:t}),n=await(0,reactNativeConfig_1.createReactNativeConfigAsync)({autolinkingOptions:await e.getPlatformOptions(i),appRoot:await e.getAppRoot(),sourceDir:o.sourceDir??void 0});o.json?console.log(JSON.stringify(n)):console.log(require("util").inspect(n,!1,null,!0))})}