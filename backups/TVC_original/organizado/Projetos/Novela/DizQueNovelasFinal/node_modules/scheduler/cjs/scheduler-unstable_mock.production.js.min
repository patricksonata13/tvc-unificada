/**
 * @license React
 * scheduler-unstable_mock.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";function push(e,l){var r=e.length;e.push(l);e:for(;0<r;){var t=r-1>>>1,u=e[t];if(!(0<compare(u,l)))break e;e[t]=l,e[r]=u,r=t}}function peek(e){return 0===e.length?null:e[0]}function pop(e){if(0===e.length)return null;var l=e[0],r=e.pop();if(r!==l){e[0]=r;e:for(var t=0,u=e.length,i=u>>>1;t<i;){var n=2*(t+1)-1,s=e[n],a=n+1,o=e[a];if(0>compare(s,r))a<u&&0>compare(o,s)?(e[t]=o,e[a]=r,t=a):(e[t]=s,e[n]=r,t=n);else{if(!(a<u&&0>compare(o,r)))break e;e[t]=o,e[a]=r,t=a}}}return l}function compare(e,l){var r=e.sortIndex-l.sortIndex;return 0!==r?r:e.id-l.id}var taskQueue=[],timerQueue=[],taskIdCounter=1,currentTask=null,currentPriorityLevel=3,isPerformingWork=!1,isHostCallbackScheduled=!1,isHostTimeoutScheduled=!1,currentMockTime=0,scheduledCallback=null,scheduledTimeout=null,timeoutTime=-1,yieldedValues=null,expectedNumberOfYields=-1,didStop=!1,isFlushing=!1,needsPaint=!1,shouldYieldForPaint=!1,disableYieldValue=!1;function advanceTimers(e){for(var l=peek(timerQueue);null!==l;){if(null===l.callback)pop(timerQueue);else{if(!(l.startTime<=e))break;pop(timerQueue),l.sortIndex=l.expirationTime,push(taskQueue,l)}l=peek(timerQueue)}}function handleTimeout(e){if(isHostTimeoutScheduled=!1,advanceTimers(e),!isHostCallbackScheduled)if(null!==peek(taskQueue))isHostCallbackScheduled=!0,scheduledCallback=flushWork;else{var l=peek(timerQueue);null!==l&&(e=l.startTime-e,scheduledTimeout=handleTimeout,timeoutTime=currentMockTime+e)}}function flushWork(e,l){isHostCallbackScheduled=!1,isHostTimeoutScheduled&&(isHostTimeoutScheduled=!1,scheduledTimeout=null,timeoutTime=-1),isPerformingWork=!0;var r=currentPriorityLevel;try{e:{for(advanceTimers(l),currentTask=peek(taskQueue);null!==currentTask&&(!(currentTask.expirationTime>l)||e&&!shouldYieldToHost());){var t=currentTask.callback;if("function"==typeof t){currentTask.callback=null,currentPriorityLevel=currentTask.priorityLevel;var u=t(currentTask.expirationTime<=l);if(l=currentMockTime,"function"==typeof u){if(currentTask.callback=u,advanceTimers(l),shouldYieldForPaint){var i=needsPaint=!0;break e}}else currentTask===peek(taskQueue)&&pop(taskQueue),advanceTimers(l)}else pop(taskQueue);currentTask=peek(taskQueue)}if(null!==currentTask)i=!0;else{var n=peek(timerQueue);if(null!==n){var s=n.startTime-l;scheduledTimeout=handleTimeout,timeoutTime=currentMockTime+s}i=!1}}return i}finally{currentTask=null,currentPriorityLevel=r,isPerformingWork=!1}}function shouldYieldToHost(){return!!(0===expectedNumberOfYields&&null===yieldedValues||-1!==expectedNumberOfYields&&null!==yieldedValues&&yieldedValues.length>=expectedNumberOfYields||shouldYieldForPaint&&needsPaint)&&(didStop=!0)}function unstable_flushAllWithoutAsserting(){if(isFlushing)throw Error("Already flushing work.");if(null===scheduledCallback)return!1;var e=scheduledCallback;isFlushing=!0;try{var l=!0;do{l=e(!0,currentMockTime)}while(l);return l||(scheduledCallback=null),!0}finally{isFlushing=!1}}exports.log=function(e){"disabledLog"===console.log.name||disableYieldValue||(null===yieldedValues?yieldedValues=[e]:yieldedValues.push(e))},exports.reset=function(){if(isFlushing)throw Error("Cannot reset while already flushing work.");currentMockTime=0,scheduledTimeout=scheduledCallback=null,timeoutTime=-1,yieldedValues=null,expectedNumberOfYields=-1,needsPaint=isFlushing=didStop=!1},exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_advanceTime=function(e){"disabledLog"===console.log.name||disableYieldValue||(currentMockTime+=e,null!==scheduledTimeout&&timeoutTime<=currentMockTime&&(scheduledTimeout(currentMockTime),timeoutTime=-1,scheduledTimeout=null))},exports.unstable_cancelCallback=function(e){e.callback=null},exports.unstable_clearLog=function(){if(null===yieldedValues)return[];var e=yieldedValues;return yieldedValues=null,e},exports.unstable_flushAll=function(){if(null!==yieldedValues)throw Error("Log is not empty. Assert on the log of yielded values before flushing additional work.");if(unstable_flushAllWithoutAsserting(),null!==yieldedValues)throw Error("While flushing work, something yielded a value. Use an assertion helper to assert on the log of yielded values, e.g. expect(Scheduler).toFlushAndYield([...])")},exports.unstable_flushAllWithoutAsserting=unstable_flushAllWithoutAsserting,exports.unstable_flushExpired=function(){if(isFlushing)throw Error("Already flushing work.");if(null!==scheduledCallback){isFlushing=!0;try{scheduledCallback(!1,currentMockTime)||(scheduledCallback=null)}finally{isFlushing=!1}}},exports.unstable_flushNumberOfYields=function(e){if(isFlushing)throw Error("Already flushing work.");if(null!==scheduledCallback){var l=scheduledCallback;expectedNumberOfYields=e,isFlushing=!0;try{e=!0;do{e=l(!0,currentMockTime)}while(e&&!didStop);e||(scheduledCallback=null)}finally{expectedNumberOfYields=-1,isFlushing=didStop=!1}}},exports.unstable_flushUntilNextPaint=function(){if(isFlushing)throw Error("Already flushing work.");if(null!==scheduledCallback){var e=scheduledCallback;shouldYieldForPaint=!0,needsPaint=!1,isFlushing=!0;try{var l=!0;do{l=e(!0,currentMockTime)}while(l&&!didStop);l||(scheduledCallback=null)}finally{isFlushing=didStop=shouldYieldForPaint=!1}}return!1},exports.unstable_forceFrameRate=function(){},exports.unstable_getCurrentPriorityLevel=function(){return currentPriorityLevel},exports.unstable_hasPendingWork=function(){return null!==scheduledCallback},exports.unstable_next=function(e){switch(currentPriorityLevel){case 1:case 2:case 3:var l=3;break;default:l=currentPriorityLevel}var r=currentPriorityLevel;currentPriorityLevel=l;try{return e()}finally{currentPriorityLevel=r}},exports.unstable_now=function(){return currentMockTime},exports.unstable_requestPaint=function(){needsPaint=!0},exports.unstable_runWithPriority=function(e,l){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=currentPriorityLevel;currentPriorityLevel=e;try{return l()}finally{currentPriorityLevel=r}},exports.unstable_scheduleCallback=function(e,l,r){var t=currentMockTime;switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?t+r:t:r=t,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:taskIdCounter++,callback:l,priorityLevel:e,startTime:r,expirationTime:u=r+u,sortIndex:-1},r>t?(e.sortIndex=r,push(timerQueue,e),null===peek(taskQueue)&&e===peek(timerQueue)&&(isHostTimeoutScheduled?(scheduledTimeout=null,timeoutTime=-1):isHostTimeoutScheduled=!0,scheduledTimeout=handleTimeout,timeoutTime=currentMockTime+(r-t))):(e.sortIndex=u,push(taskQueue,e),isHostCallbackScheduled||isPerformingWork||(isHostCallbackScheduled=!0,scheduledCallback=flushWork)),e},exports.unstable_setDisableYieldValue=function(e){disableYieldValue=e},exports.unstable_shouldYield=shouldYieldToHost,exports.unstable_wrapCallback=function(e){var l=currentPriorityLevel;return function(){var r=currentPriorityLevel;currentPriorityLevel=l;try{return e.apply(this,arguments)}finally{currentPriorityLevel=r}}};