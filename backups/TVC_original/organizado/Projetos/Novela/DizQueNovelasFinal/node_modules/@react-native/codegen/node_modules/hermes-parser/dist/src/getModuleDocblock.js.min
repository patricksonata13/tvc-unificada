"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getModuleDocblock=getModuleDocblock,exports.parseDocblockString=parseDocblockString;const DIRECTIVE_REGEX=/^\s*@([a-zA-Z0-9_-]+)( +.+)?$/;function parseDocblockString(t){const e=t.split("\n").map(t=>t.trimStart().replace(/^\* ?/,"").trim()).filter(t=>t.startsWith("@")),n=Object.create(null);for(const t of e){var o;const e=DIRECTIVE_REGEX.exec(t);if(null==e)continue;const r=e[1],l=(null!=(o=e[2])?o:"").trim();n[r]?n[r].push(l):n[r]=[l]}return n}function getModuleDocblock(t){const e=(()=>{if("Program"!==t.type)return null;const e=t;if(0===e.comments.length)return null;const n=(()=>{const t=e.comments[0];if("Block"===t.type)return t;if(1===e.comments.length)return null;const n=e.comments[1];return"Line"===t.type&&0===t.range[0]&&"Block"===n.type?n:null})();return null==n||e.body.length>0&&e.body[0].range[0]<n.range[0]?null:n})();return null==e?null:{directives:parseDocblockString(e.value),comment:e}}