"use strict";function getWarningMessage(e,t,i){const o=`Deep imports from the 'react-native' package are deprecated ('${e}').`;return void 0!==i?`${o} Source: ${i} ${t?`${t.start.line}:${t.start.column}`:""}`:o}function createWarning(e,t,i,o){const r=getWarningMessage(t,i,o);return e.expressionStatement(e.callExpression(e.memberExpression(e.identifier("console"),e.identifier("warn")),[e.stringLiteral(r)]))}function isDeepReactNativeImport(e){const t=e.split("/");return t.length>1&&"react-native"===t[0]}function isInitializeCoreImport(e){return"react-native/Libraries/Core/InitializeCore"===e}function withLocation(e,t){return e.loc?e:{...e,loc:t}}module.exports=({types:e})=>({name:"warn-on-deep-imports",visitor:{ImportDeclaration(e,t){const i=e.node.source.value;if(isDeepReactNativeImport(i)&&!isInitializeCoreImport(i)){const o=e.node.loc;t.import.push({source:i,loc:o})}},CallExpression(e,t){const i=e.get("callee"),o=e.get("arguments");if(i.isIdentifier({name:"require"})&&1===o.length&&o[0].isStringLiteral()){const i="StringLiteral"===o[0].node.type?o[0].node.value:"";if(isDeepReactNativeImport(i)&&!isInitializeCoreImport(i)){const o=e.node.loc;t.require.push({source:i,loc:o})}}},ExportNamedDeclaration(e,t){const i=e.node.source;if(i&&isDeepReactNativeImport(i.value)&&!isInitializeCoreImport(i)){const o=e.node.loc;t.export.push({source:i.value,loc:o})}},Program:{enter(e,t){t.require=[],t.import=[],t.export=[]},exit(t,i){const{body:o}=t.node,r=[...i.require.map(t=>withLocation(createWarning(e,t.source,t.loc,i.filename),t.loc)),...i.import.map(t=>withLocation(createWarning(e,t.source,t.loc,i.filename),t.loc)),...i.export.map(t=>withLocation(createWarning(e,t.source,t.loc,i.filename),t.loc))];o.push(...r)}}}});