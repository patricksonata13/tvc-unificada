"use strict";const SemVer=require("../classes/semver"),Range=require("../classes/range"),gt=require("../functions/gt"),minVersion=(e,r)=>{e=new Range(e,r);let t=new SemVer("0.0.0");if(e.test(t))return t;if(t=new SemVer("0.0.0-0"),e.test(t))return t;t=null;for(let r=0;r<e.set.length;++r){const s=e.set[r];let n=null;s.forEach(e=>{const r=new SemVer(e.semver.version);switch(e.operator){case">":0===r.prerelease.length?r.patch++:r.prerelease.push(0),r.raw=r.format();case"":case">=":n&&!gt(r,n)||(n=r);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}),!n||t&&!gt(t,n)||(t=n)}return t&&e.test(t)?t:null};module.exports=minVersion;