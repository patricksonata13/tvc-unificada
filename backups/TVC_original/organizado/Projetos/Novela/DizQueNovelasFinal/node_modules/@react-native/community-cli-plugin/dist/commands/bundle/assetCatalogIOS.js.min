"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cleanAssetCatalog=cleanAssetCatalog,exports.getImageSet=getImageSet,exports.isCatalogAsset=isCatalogAsset,exports.writeImageSet=writeImageSet;var _assetPathUtils=_interopRequireDefault(require("./assetPathUtils")),_fs=_interopRequireDefault(require("fs")),_path=_interopRequireDefault(require("path"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function cleanAssetCatalog(e){const t=_fs.default.readdirSync(e).filter(e=>e.endsWith(".imageset"));for(const a of t)_fs.default.rmSync(_path.default.join(e,a),{recursive:!0,force:!0})}function getImageSet(e,t,a){const s=_assetPathUtils.default.getResourceIdentifier(t);return{basePath:_path.default.join(e,`${s}.imageset`),files:a.map((e,a)=>({name:`${s+(1===e?"":`@${e}x`)}.${t.type}`,scale:e,src:t.files[a]}))}}function isCatalogAsset(e){return"png"===e.type||"jpg"===e.type||"jpeg"===e.type}function writeImageSet(e){_fs.default.mkdirSync(e.basePath,{recursive:!0});for(const t of e.files){const a=_path.default.join(e.basePath,t.name);_fs.default.copyFileSync(t.src,a)}_fs.default.writeFileSync(_path.default.join(e.basePath,"Contents.json"),JSON.stringify({images:e.files.map(e=>({filename:e.name,idiom:"universal",scale:`${e.scale}x`})),info:{author:"xcode",version:1}}))}