import*as e from"../../../third_party/puppeteer-replay/puppeteer-replay.js";import"../models/models.js";var t=Object.freeze({__proto__:null});const n="extension_";var r=Object.freeze({__proto__:null,EXTENSION_PREFIX:n,ExtensionConverter:class{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getId(){return n+this.#e}getFormatName(){return this.#t.getName()}getMediaType(){return this.#t.getMediaType()}getFilename(e){const t=this.#r(this.#t.getMediaType());return`${e.title}${t}`}async stringify(t){const r=await this.#t.stringify(t),n=e.parseSourceMap(r);return[e.stripSourceMap(r),n]}async stringifyStep(e){return await this.#t.stringifyStep(e)}#r(e){switch(e){case"application/json":return".json";case"application/javascript":case"text/javascript":return".js";case"application/typescript":case"text/typescript":return".ts";default:return""}}}}),i=Object.freeze({__proto__:null,JSONConverter:class{#n;constructor(e){this.#n=e}getId(){return"json"}getFormatName(){return"JSON"}getFilename(e){return`${e.title}.json`}async stringify(t){const r=await e.stringify(t,{extension:new e.JSONStringifyExtension,indentation:this.#n}),n=e.parseSourceMap(r);return[e.stripSourceMap(r),n]}async stringifyStep(t){return await e.stringifyStep(t,{extension:new e.JSONStringifyExtension,indentation:this.#n})}getMediaType(){return"application/json"}}}),s=Object.freeze({__proto__:null,LighthouseConverter:class{#n;constructor(e){this.#n=e}getId(){return"lighthouse"}getFormatName(){return"Puppeteer (including Lighthouse analysis)"}getFilename(e){return`${e.title}.js`}async stringify(t){const r=await e.stringify(t,{extension:new e.LighthouseStringifyExtension,indentation:this.#n}),n=e.parseSourceMap(r);return[e.stripSourceMap(r),n]}async stringifyStep(t){return await e.stringifyStep(t,{indentation:this.#n})}getMediaType(){return"text/javascript"}}});class a{#n;#t;constructor(e){this.#n=e,this.#t=this.createExtension()}getId(){return"puppeteer"}createExtension(){return new e.PuppeteerStringifyExtension}getFormatName(){return"Puppeteer"}getFilename(e){return`${e.title}.js`}async stringify(t){const r=await e.stringify(t,{indentation:this.#n,extension:this.#t}),n=e.parseSourceMap(r);return[e.stripSourceMap(r),n]}async stringifyStep(t){return await e.stringifyStep(t,{indentation:this.#n,extension:this.#t})}getMediaType(){return"text/javascript"}}var o=Object.freeze({__proto__:null,PuppeteerConverter:a}),p=Object.freeze({__proto__:null,PuppeteerFirefoxConverter:class extends a{getId(){return"puppeteer-firefox"}createExtension(){return new e.PuppeteerStringifyExtension("firefox")}getFormatName(){return"Puppeteer (for Firefox)"}}}),u=Object.freeze({__proto__:null,PuppeteerReplayConverter:class{#n;constructor(e){this.#n=e}getId(){return"@puppeteer/replay"}getFormatName(){return"@puppeteer/replay"}getFilename(e){return`${e.title}.js`}async stringify(t){const r=await e.stringify(t,{extension:new e.PuppeteerReplayStringifyExtension,indentation:this.#n}),n=e.parseSourceMap(r);return[e.stripSourceMap(r),n]}async stringifyStep(t){return await e.stringifyStep(t,{extension:new e.PuppeteerReplayStringifyExtension})}getMediaType(){return"text/javascript"}}});export{t as Converter,r as ExtensionConverter,i as JSONConverter,s as LighthouseConverter,o as PuppeteerConverter,p as PuppeteerFirefoxConverter,u as PuppeteerReplayConverter};