!function(e){let t,n,o,a,s,r,i,l;const c=class{constructor(e){this.domAutomationController_=e,this.controlTaken_=!1,this.timerId_=-1,this._asyncInvocationId=0}static createKeyEvent(e){return new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:e})}};async function d(e,t){const n=a.TargetManager.TargetManager.instance().rootTarget()?.targetAgent(),{browserContextId:o}=await n.invoke_createBrowserContext();t&&t.push(o);const{targetId:s}=await n.invoke_createTarget({url:"about:blank",browserContextId:o});await n.invoke_attachToTarget({targetId:s,flatten:!0});const r=a.TargetManager.TargetManager.instance().targets().find(e=>e.id()===s),i=r.pageAgent();return await i.invoke_enable(),await i.invoke_navigate({url:e}),r}async function u(e){const t=a.TargetManager.TargetManager.instance().rootTarget()?.targetAgent();await t.invoke_disposeBrowserContext({browserContextId:e})}async function g(e,t){return(await e.runtimeAgent().invoke_evaluate({expression:t})).result.value}c.prototype.fail=function(e){if(!this.controlTaken_)throw e;this.reportFailure_(e)},c.prototype.assertEquals=function(e,t,n){if(e!==t){let o="Expected: '"+e+"', but was '"+t+"'";n&&(o=n+"("+o+")"),this.fail(o)}},c.prototype.assertTrue=function(e,t){this.assertEquals(!0,Boolean(e),t)},c.prototype.takeControl=function(e){const{slownessFactor:t}={slownessFactor:1,...e};this.controlTaken_=!0;const n=this,o=20*t;this.timerId_=setTimeout(function(){n.reportFailure_(`Timeout exceeded: ${o} sec`)},1e3*o)},c.prototype.releaseControl=function(){-1!==this.timerId_&&(clearTimeout(this.timerId_),this.timerId_=-1),this.controlTaken_=!1,this.reportOk_()},c.prototype.reportOk_=function(){this.domAutomationController_.send("[OK]")},c.prototype.reportFailure_=function(e){-1!==this.timerId_&&(clearTimeout(this.timerId_),this.timerId_=-1),this.domAutomationController_.send("[FAILED] "+e)},c.prototype.setupLegacyFilesForTest=async function(){[t,n,o,a,s,r,i,l]=await Promise.all([self.runtime.loadLegacyModule("core/common/common.js"),self.runtime.loadLegacyModule("core/host/host.js"),self.runtime.loadLegacyModule("core/root/root.js"),self.runtime.loadLegacyModule("core/sdk/sdk.js"),self.runtime.loadLegacyModule("panels/sources/sources.js"),self.runtime.loadLegacyModule("panels/timeline/timeline.js"),self.runtime.loadLegacyModule("ui/legacy/legacy.js"),self.runtime.loadLegacyModule("models/workspace/workspace.js")]),self.Host={},self.Host.InspectorFrontendHost=n.InspectorFrontendHost.InspectorFrontendHostInstance,self.Host.InspectorFrontendHostAPI=n.InspectorFrontendHostAPI},c.prototype.dispatchOnTestSuite=async function(e){const t=e.shift();try{await this[t].apply(this,e),this.controlTaken_||this.reportOk_()}catch(e){this.reportFailure_(e)}},c.prototype.waitForAsync=function(e){const t=Array.prototype.slice.call(arguments);this.takeControl(),t.push(this.releaseControl.bind(this)),this.dispatchOnTestSuite(t)},c.prototype.addSniffer=function(e,t,n,o){const a=e[t];"function"!=typeof a&&this.fail("Cannot find method to override: "+t);const s=this;e[t]=function(r){let i;try{i=a.apply(this,arguments)}finally{o||(e[t]=a)}try{n.apply(this,arguments)}catch(e){s.fail("Exception in overriden method '"+t+"': "+e)}return i}},c.prototype.waitForThrottler=function(e,t){const n=this;let o=!0;n.addSniffer(e,"schedule",function(){o&&n.fail("Unexpected Throttler.schedule")}),function a(){if(!e._isRunningProcess&&!e._process)return o=!1,void t();n.addSniffer(e,"processCompletedForTests",a)}()},c.prototype.showPanel=function(e){return i.InspectorView.InspectorView.instance().showPanel(e)},c.prototype.testShowScriptsTab=function(){const e=this;this.showPanel("sources").then(function(){this._waitUntilScriptsAreParsed(["debugger_test_page.html"],function(){e.releaseControl()})}.bind(this)),this.takeControl()},c.prototype.testShowRecorderTab=function(){this.showPanel("chrome-recorder").then(()=>{this.releaseControl()}).catch(e=>{this.fail("Loading Recorder panel failed: "+e.message)}),this.takeControl()},c.prototype.testContentScriptIsPresent=function(){const e=this;this.showPanel("sources").then(function(){e._waitUntilScriptsAreParsed(["page_with_content_script.html","simple_content_script.js"],function(){e.releaseControl()})}),this.takeControl()},c.prototype.testNoScriptDuplicatesOnPanelSwitch=function(){const e=this;function t(){e.showPanel("elements").then(function(){setTimeout(n,0)})}function n(){e.showPanel("sources").then(function(){setTimeout(o,0)})}function o(){e.assertTrue(e._scriptsAreParsed(["debugger_test_page.html"]),"Some scripts are missing."),a(),e.releaseControl()}function a(){const t=e.nonAnonymousUISourceCodes_();for(let n=0;n<t.length;n++)for(let o=n+1;o<t.length;o++)e.assertTrue(t[n].url()!==t[o].url(),"Found script duplicates: "+e.uiSourceCodesToString_(t))}this.showPanel("sources").then(function(){e._waitUntilScriptsAreParsed(["debugger_test_page.html"],function(){a(),setTimeout(t,0)})}),this.takeControl({slownessFactor:10})},c.prototype.testPauseWhenLoadingDevTools=function(){const e=a.TargetManager.TargetManager.instance().primaryPageTarget()?.model(a.DebuggerModel.DebuggerModel);e.debuggerPausedDetails||(this.showPanel("sources").then(function(){this._waitForScriptPause(this.releaseControl.bind(this))}.bind(this)),this.takeControl())},c.prototype.testNetworkSize=function(){const e=this;this.addSniffer(a.NetworkManager.NetworkDispatcher.prototype,"finishNetworkRequest",function(t,n){e.assertEquals(25,t.resourceSize,"Incorrect total data length"),e.releaseControl()}),e.evaluateInConsole_("window.location.reload(true);",function(e){}),this.takeControl({slownessFactor:10})},c.prototype.testNetworkSyncSize=function(){const e=this;this.addSniffer(a.NetworkManager.NetworkDispatcher.prototype,"finishNetworkRequest",function(t,n){e.assertEquals(25,t.resourceSize,"Incorrect total data length"),e.releaseControl()}),e.evaluateInConsole_('let xhr = new XMLHttpRequest(); xhr.open("GET", "chunked", false); xhr.send(null);',function(){}),this.takeControl({slownessFactor:10})},c.prototype.testNetworkRawHeadersText=function(){const e=this;this.addSniffer(a.NetworkManager.NetworkDispatcher.prototype,"finishNetworkRequest",function(t,n){t.responseHeadersText||e.fail("Failure: resource does not have response headers text");const o=t.responseHeadersText.indexOf("Date:");e.assertEquals(112,t.responseHeadersText.substring(o).length,"Incorrect response headers text length"),e.releaseControl()}),e.evaluateInConsole_("window.location.reload(true);",function(e){}),this.takeControl({slownessFactor:10})},c.prototype.testNetworkTiming=function(){const e=this;this.addSniffer(a.NetworkManager.NetworkDispatcher.prototype,"finishNetworkRequest",function(t,n){e.assertTrue(t.timing.receiveHeadersEnd-t.timing.connectStart>=70,"Time between receiveHeadersEnd and connectStart should be >=70ms, but was receiveHeadersEnd="+t.timing.receiveHeadersEnd+", connectStart="+t.timing.connectStart+"."),e.assertTrue(t.responseReceivedTime-t.startTime>=.07,"Time between responseReceivedTime and startTime should be >=0.07s, but was responseReceivedTime="+t.responseReceivedTime+", startTime="+t.startTime+"."),e.assertTrue(t.endTime-t.startTime>=.14,"Time between endTime and startTime should be >=0.14s, but was endtime="+t.endTime+", startTime="+t.startTime+"."),e.releaseControl()}),e.evaluateInConsole_("window.location.reload(true);",function(e){}),this.takeControl({slownessFactor:10})},c.prototype.testPushTimes=function(e){const t=this;let n=2;this.addSniffer(a.NetworkManager.NetworkDispatcher.prototype,"finishNetworkRequest",function(e,o){t.assertTrue("number"==typeof e.timing.pushStart&&e.timing.pushStart>0,`pushStart is invalid: ${e.timing.pushStart}`),t.assertTrue("number"==typeof e.timing.pushEnd,`pushEnd is invalid: ${e.timing.pushEnd}`),t.assertTrue(e.timing.pushStart<e.startTime,"pushStart should be before startTime"),e.url().endsWith("?pushUseNullEndTime")?t.assertTrue(0===e.timing.pushEnd,`pushEnd should be 0 but is ${e.timing.pushEnd}`):(t.assertTrue(e.timing.pushStart<e.timing.pushEnd,`pushStart should be before pushEnd (${e.timing.pushStart} >= ${e.timing.pushEnd})`),t.assertTrue(e.timing.pushEnd<e.endTime,"pushEnd should be before endTime"),t.assertTrue(e.startTime<e.timing.pushEnd,"pushEnd should be after startTime")),--n||t.releaseControl()},!0),t.evaluateInConsole_("addImage('"+e+"')",function(e){}),t.evaluateInConsole_("addImage('"+e+"?pushUseNullEndTime')",function(e){}),this.takeControl()},c.prototype.testConsoleOnNavigateBack=function(){function e(){return a.ConsoleModel.ConsoleModel.allMessagesUnordered().filter(e=>e.source!==Protocol.Log.LogEntrySource.Violation)}function t(e){e&&e.data.source===Protocol.Log.LogEntrySource.Violation||(a.TargetManager.TargetManager.instance().removeModelListener(a.ConsoleModel.ConsoleModel,a.ConsoleModel.Events.MessageAdded,t,this),this.evaluateInConsole_("clickLink();",n.bind(this)))}function n(){this.assertEquals(3,e().length),this.evaluateInConsole_("history.back();",o.bind(this))}function o(){this.evaluateInConsole_("void 0;",s.bind(this))}function s(){this.assertEquals(7,e().length),this.releaseControl()}1===e().length?t.call(this,null):a.TargetManager.TargetManager.instance().addModelListener(a.ConsoleModel.ConsoleModel,a.ConsoleModel.Events.MessageAdded,t,this),this.takeControl()},c.prototype.testSharedWorker=function(){this.evaluateInConsole_("globalVar",function(e){this.assertEquals("2011",e),this.releaseControl()}.bind(this)),this.takeControl()},c.prototype.testPauseInSharedWorkerInitialization1=function(){this.takeControl(),this._waitForTargets(1,function(){ProtocolClient.test.deprecatedRunAfterPendingDispatches(this.releaseControl.bind(this))}.bind(this))},c.prototype.testPauseInSharedWorkerInitialization2=function(){function e(e){const t=e.data.messageText;"connected"!==t&&this.fail("Unexpected message: "+t),this.releaseControl()}this.takeControl(),this._waitForTargets(1,function t(){const n=a.TargetManager.TargetManager.instance().models(a.DebuggerModel.DebuggerModel)[0];if(n.isPaused())return a.TargetManager.TargetManager.instance().addModelListener(a.ConsoleModel.ConsoleModel,a.ConsoleModel.Events.MessageAdded,e,this),void n.resume();this._waitForScriptPause(t.bind(this))}.bind(this))},c.prototype.testSharedWorkerNetworkPanel=function(){this.takeControl(),this.showPanel("network").then(()=>{document.querySelector("#network-container")||this.fail("unable to find #network-container"),this.releaseControl()})},c.prototype.enableTouchEmulation=function(){const e=new Emulation.DeviceModeModel(function(){});e._target=a.TargetManager.TargetManager.instance().primaryPageTarget(),e._applyTouch(!0,!0)},c.prototype.waitForDebuggerPaused=function(){const e=a.TargetManager.TargetManager.instance().primaryPageTarget()?.model(a.DebuggerModel.DebuggerModel);e.debuggerPausedDetails||(this.takeControl(),this._waitForScriptPause(this.releaseControl.bind(this)))},c.prototype.switchToPanel=function(e){this.showPanel(e).then(this.releaseControl.bind(this)),this.takeControl()},c.prototype.testDeviceMetricsOverrides=function(){function t(){return JSON.stringify({width:e.innerWidth,height:e.innerHeight,deviceScaleFactor:e.devicePixelRatio})}const n=this;async function o(e,o,s){await(a.TargetManager.TargetManager.instance().primaryPageTarget()?.emulationAgent().invoke_setDeviceMetricsOverride(e)),n.evaluateInConsole_("("+t.toString()+")()",function(t){n.assertEquals(`'${JSON.stringify(o)}'`,t,"Wrong metrics for params: "+JSON.stringify(e)),s()})}function s(){o({width:1200,height:1e3,deviceScaleFactor:1,mobile:!1,fitWindow:!1},{width:1200,height:1e3,deviceScaleFactor:1},r)}function r(){o({width:1200,height:1e3,deviceScaleFactor:3,mobile:!1,fitWindow:!0},{width:1200,height:1e3,deviceScaleFactor:3},i)}function i(){o({width:1200,height:1e3,deviceScaleFactor:3,mobile:!1,fitWindow:!1},{width:1200,height:1e3,deviceScaleFactor:3},l)}function l(){n.releaseControl()}n.takeControl(),o({width:1200,height:1e3,deviceScaleFactor:1,mobile:!1,fitWindow:!0},{width:1200,height:1e3,deviceScaleFactor:1},s)},c.prototype.testDispatchKeyEventShowsAutoFill=function(){const e=this;let t=!1;function n(){a.TargetManager.TargetManager.instance().primaryPageTarget()?.inputAgent().invoke_dispatchKeyEvent({type:"rawKeyDown",key:"Down",windowsVirtualKeyCode:40,nativeVirtualKeyCode:40}),a.TargetManager.TargetManager.instance().primaryPageTarget()?.inputAgent().invoke_dispatchKeyEvent({type:"keyUp",key:"Down",windowsVirtualKeyCode:40,nativeVirtualKeyCode:40})}function o(t){e.assertEquals("'Abbf'",t),e.releaseControl()}this.takeControl({slownessFactor:10}),a.TargetManager.TargetManager.instance().addModelListener(a.ConsoleModel.ConsoleModel,a.ConsoleModel.Events.MessageAdded,function(s){const r=s.data.messageText;"ready"!==r||t||(t=!0,n()),"didShowSuggestions"===r&&(a.TargetManager.TargetManager.instance().primaryPageTarget()?.inputAgent().invoke_dispatchKeyEvent({type:"rawKeyDown",key:"Enter",windowsVirtualKeyCode:13,nativeVirtualKeyCode:13}),a.TargetManager.TargetManager.instance().primaryPageTarget()?.inputAgent().invoke_dispatchKeyEvent({type:"keyUp",key:"Enter",windowsVirtualKeyCode:13,nativeVirtualKeyCode:13}),e.evaluateInConsole_('document.getElementById("name").value',o))},this);const s=a.ConsoleModel.ConsoleModel.allMessagesUnordered();if(s.length){const e=s[0].messageText;this.assertEquals("ready",e),n()}},c.prototype.testKeyEventUnhandled=function(){function e(e){this.assertEquals("keyup",e.data.type),this.assertEquals("F8",e.data.key),this.assertEquals(119,e.data.keyCode),this.assertEquals(0,e.data.modifiers),this.assertEquals("F8",e.data.code),this.releaseControl()}this.takeControl(),Host.InspectorFrontendHost.events.addEventListener(Host.InspectorFrontendHostAPI.Events.KeyEventUnhandled,function t(n){this.assertEquals("keydown",n.data.type),this.assertEquals("F8",n.data.key),this.assertEquals(119,n.data.keyCode),this.assertEquals(0,n.data.modifiers),this.assertEquals("",n.data.code),Host.InspectorFrontendHost.events.removeEventListener(Host.InspectorFrontendHostAPI.Events.KeyEventUnhandled,t,this),Host.InspectorFrontendHost.events.addEventListener(Host.InspectorFrontendHostAPI.Events.KeyEventUnhandled,e,this),a.TargetManager.TargetManager.instance().primaryPageTarget()?.inputAgent().invoke_dispatchKeyEvent({type:"keyUp",key:"F8",code:"F8",windowsVirtualKeyCode:119,nativeVirtualKeyCode:119})},this),a.TargetManager.TargetManager.instance().primaryPageTarget()?.inputAgent().invoke_dispatchKeyEvent({type:"rawKeyDown",key:"F8",windowsVirtualKeyCode:119,nativeVirtualKeyCode:119})},c.prototype.testForwardedKeysChanged=function(){this.takeControl(),this.addSniffer(i.ShortcutRegistry.ShortcutRegistry.instance(),"registerBindings",()=>{a.TargetManager.TargetManager.instance().primaryPageTarget()?.inputAgent().invoke_dispatchKeyEvent({type:"rawKeyDown",key:"F1",windowsVirtualKeyCode:112,nativeVirtualKeyCode:112})}),this.addSniffer(i.ShortcutRegistry.ShortcutRegistry.instance(),"handleKey",e=>{this.assertEquals(112,e),this.releaseControl()}),t.Settings.moduleSetting("active-keybind-set").set("vsCode")},c.prototype.testDispatchKeyEventDoesNotCrash=function(){a.TargetManager.TargetManager.instance().primaryPageTarget()?.inputAgent().invoke_dispatchKeyEvent({type:"rawKeyDown",windowsVirtualKeyCode:35,key:"End"}),a.TargetManager.TargetManager.instance().primaryPageTarget()?.inputAgent().invoke_dispatchKeyEvent({type:"keyUp",windowsVirtualKeyCode:35,key:"End"})},c.prototype.testShowCertificate=function(){Host.InspectorFrontendHost.showCertificateViewer(["MIIFIDCCBAigAwIBAgIQE0TsEu6R8FUHQv+9fE7j8TANBgkqhkiG9w0BAQsFADBUMQswCQYDVQQGEwJVUzEeMBwGA1UEChMVR29vZ2xlIFRydXN0IFNlcnZpY2VzMSUwIwYDVQQDExxHb29nbGUgSW50ZXJuZXQgQXV0aG9yaXR5IEczMB4XDTE5MDMyNjEzNDEwMVoXDTE5MDYxODEzMjQwMFowZzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDU1vdW50YWluIFZpZXcxEzARBgNVBAoMCkdvb2dsZSBMTEMxFjAUBgNVBAMMDSouYXBwc3BvdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCwca7hj0kyoJVxcvyAa8zNKMIXcoPM3aU1KVe7mxZITtwC6/D/D/q4Oe8fBQLeZ3c6qR5Sr3M+611kAb15AcGUgh1Xi0jZqERvd/5+P0aVCFJYeoLrPBzwSMZBStkoiO2CwtV8x06eX7qUz7Hvr3oeG+Ma9OUMmIebl//zHtC82mE0mCRBQAW0MWEgT5nOWey74tJRGRqUEI8ftV9grAshD5gY8kxxUoMfqrreaXVqcRF58ZPiwUJ0+SbtC5q9cJ+KMuYM4TCetEuk/WQsa+1EnSa40dhGRtZjxbwEwQAJ1vLOcIA7AVR/Ck22Uj8XUOECercjUrKdDyaAPcLp2TThAgMBAAGjggHZMIIB1TATBgNVHSUEDDAKBggrBgEFBQcDATCBrwYDVR0RBIGnMIGkgg0qLmFwcHNwb3QuY29tggsqLmEucnVuLmFwcIIVKi50aGlua3dpdGhnb29nbGUuY29tghAqLndpdGhnb29nbGUuY29tghEqLndpdGh5b3V0dWJlLmNvbYILYXBwc3BvdC5jb22CB3J1bi5hcHCCE3RoaW5rd2l0aGdvb2dsZS5jb22CDndpdGhnb29nbGUuY29tgg93aXRoeW91dHViZS5jb20waAYIKwYBBQUHAQEEXDBaMC0GCCsGAQUFBzAChiFodHRwOi8vcGtpLmdvb2cvZ3NyMi9HVFNHSUFHMy5jcnQwKQYIKwYBBQUHMAGGHWh0dHA6Ly9vY3NwLnBraS5nb29nL0dUU0dJQUczMB0GA1UdDgQWBBTGkpE5o0H9+Wjc05rFhNQiYDjBFjAMBgNVHRMBAf8EAjAAMB8GA1UdIwQYMBaAFHfCuFCaZ3Z2sS3ChtCDoH6mfrpLMCEGA1UdIAQaMBgwDAYKKwYBBAHWeQIFAzAIBgZngQwBAgIwMQYDVR0fBCowKDAmoCSgIoYgaHR0cDovL2NybC5wa2kuZ29vZy9HVFNHSUFHMy5jcmwwDQYJKoZIhvcNAQELBQADggEBALqoYGqWtJW/6obEzY+ehsgfyXb+qNIuV09wt95cRF93HlLbBlSZ/Iz8HXX44ZT1/tGAkwKnW0gDKSSab3I8U+e9LHbC9VXrgAFENzu89MNKNmK5prwv+MPA2HUQPu4Pad3qXmd4+nKc/EUjtg1d/xKGK1Vn6JX3i5ly/rduowez3LxpSAJuIwseum331aQaKC2z2ri++96B8MPUKFXzvV2gVGOe3ZYqmwPaG8y38Tba+OzEh59ygl8ydJJhoI6+R3itPSy0aXUUlMvvAbfCobXD5kBRQ28ysgbDSDOPs3fraXpAKL92QUjsABs58XBz5vka4swugg/u+ZxaKOqfIm8=","MIIEXDCCA0SgAwIBAgINAeOpMBz8cgY4P5pTHTANBgkqhkiG9w0BAQsFADBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMjETMBEGA1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjAeFw0xNzA2MTUwMDAwNDJaFw0yMTEyMTUwMDAwNDJaMFQxCzAJBgNVBAYTAlVTMR4wHAYDVQQKExVHb29nbGUgVHJ1c3QgU2VydmljZXMxJTAjBgNVBAMTHEdvb2dsZSBJbnRlcm5ldCBBdXRob3JpdHkgRzMwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDKUkvqHv/OJGuo2nIYaNVWXQ5IWi01CXZaz6TIHLGp/lOJ+600/4hbn7vn6AAB3DVzdQOts7G5pH0rJnnOFUAK71G4nzKMfHCGUksW/mona+Y2emJQ2N+aicwJKetPKRSIgAuPOB6Aahh8Hb2XO3h9RUk2T0HNouB2VzxoMXlkyW7XUR5mw6JkLHnA52XDVoRTWkNty5oCINLvGmnRsJ1zouAqYGVQMc/7sy+/EYhALrVJEA8KbtyX+r8snwU5C1hUrwaW6MWOARa8qBpNQcWTkaIeoYvy/sGIJEmjR0vFEwHdp1cSaWIr6/4g72n7OqXwfinu7ZYW97EfoOSQJeAzAgMBAAGjggEzMIIBLzAOBgNVHQ8BAf8EBAMCAYYwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMBIGA1UdEwEB/wQIMAYBAf8CAQAwHQYDVR0OBBYEFHfCuFCaZ3Z2sS3ChtCDoH6mfrpLMB8GA1UdIwQYMBaAFJviB1dnHB7AagbeWbSaLd/cGYYuMDUGCCsGAQUFBwEBBCkwJzAlBggrBgEFBQcwAYYZaHR0cDovL29jc3AucGtpLmdvb2cvZ3NyMjAyBgNVHR8EKzApMCegJaAjhiFodHRwOi8vY3JsLnBraS5nb29nL2dzcjIvZ3NyMi5jcmwwPwYDVR0gBDgwNjA0BgZngQwBAgIwKjAoBggrBgEFBQcCARYcaHR0cHM6Ly9wa2kuZ29vZy9yZXBvc2l0b3J5LzANBgkqhkiG9w0BAQsFAAOCAQEAHLeJluRT7bvs26gyAZ8so81trUISd7O45skDUmAge1cnxhG1P2cNmSxbWsoiCt2eux9LSD+PAj2LIYRFHW31/6xoic1k4tbWXkDCjir37xTTNqRAMPUyFRWSdvt+nlPqwnb8Oa2I/maSJukcxDjNSfpDh/Bd1lZNgdd/8cLdsE3+wypufJ9uXO1iQpnh9zbuFIwsIONGl1p3A8CgxkqI/UAih3JaGOqcpcdaCIzkBaR9uYQ1X4k2Vg5APRLouzVy7a8IVk6wuy6pm+T7HT4LY8ibS5FEZlfAFLSW8NwsVz9SBK2Vqn1N0PIMn5xA6NZVc7o835DLAFshEWfC7TIe3g==","MIIDujCCAqKgAwIBAgILBAAAAAABD4Ym5g0wDQYJKoZIhvcNAQEFBQAwTDEgMB4GA1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjIxEzARBgNVBAoTCkdsb2JhbFNpZ24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDYxMjE1MDgwMDAwWhcNMjExMjE1MDgwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMjETMBEGA1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKbPJA6+Lm8omUVCxKs+IVSbC9N/hHD6ErPLv4dfxn+G07IwXNb9rfF73OX4YJYJkhD10FPe+3t+c4isUoh7SqbKSaZeqKeMWhG8eoLrvozps6yWJQeXSpkqBy+0Hne/ig+1AnwblrjFuTosvNYSuetZfeLQBoZfXklqtTleiDTsvHgMCJiEbKjNS7SgfQx5TfC4LcshytVsW33hoCmEofnTlEnLJGKRILzdC9XZzPnqJworc5HGnRusyMvo4KD0L5CLTfuwNhv2GXqF4G3yYROIXJ/gkwpRl4pazq+r1feqCapgvdzZX99yqWATXgAByUr6P6TqBwMhAo6CygPCm48CAwEAAaOBnDCBmTAOBgNVHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUm+IHV2ccHsBqBt5ZtJot39wZhi4wNgYDVR0fBC8wLTAroCmgJ4YlaHR0cDovL2NybC5nbG9iYWxzaWduLm5ldC9yb290LXIyLmNybDAfBgNVHSMEGDAWgBSb4gdXZxwewGoG3lm0mi3f3BmGLjANBgkqhkiG9w0BAQUFAAOCAQEAmYFThxxol4aR7OBKuEQLq4GsJ0/WwbgcQ3izDJr86iw8bmEbTUsp9Z8FHSbBuOmDAGJFtqkIk7mpM0sYmsL4h4hO291xNBrBVNpGP+DTKqttVCL1OmLNIG+6KYnX3ZHu01yiPqFbQfXf5WRDLenVOavSot+3i9DAgBkcRcAtjOj4LaR0VknFBbVPFd5uRHg5h6h+u/N5GJG79G+dwfCMNYxdAfvDbbnvRG15RjF+Cv6pgsH/76tuIMRQyV+dTZsXjAzlAcmgQWpzU/qlULRuJQ/7TBj0/VLZjmmx6BEP3ojY+x1J96relc8geMJgEtslQIxq/H5COEBkEveegeGTLg=="])},c.prototype.testOfflineNetworkConditions=async function(){const e=this;a.NetworkManager.MultitargetNetworkManager.instance().setNetworkConditions(a.NetworkManager.OfflineConditions),this.addSniffer(a.NetworkManager.NetworkDispatcher.prototype,"finishNetworkRequest",function(t){e.assertEquals("net::ERR_INTERNET_DISCONNECTED",t.localizedFailDescription,"Request should have failed"),e.releaseControl()}),e.takeControl(),e.evaluateInConsole_('await fetch("/");',function(e){})},c.prototype.testEmulateNetworkConditions=function(){const e=this;function t(t,n,o){a.TargetManager.TargetManager.instance().addModelListener(a.ConsoleModel.ConsoleModel,a.ConsoleModel.Events.MessageAdded,function t(s){const r=n.indexOf(s.data.messageText);-1!==r?(n.splice(r,1),n.length||(a.TargetManager.TargetManager.instance().removeModelListener(a.ConsoleModel.ConsoleModel,a.ConsoleModel.Events.MessageAdded,t,this),o())):e.fail("Unexpected message: "+s.data.messageText)},this),a.NetworkManager.MultitargetNetworkManager.instance().setNetworkConditions(t)}function n(){t(MobileThrottling.networkPresets[2],["online event: online = true","connection change event: type = cellular; downlinkMax = 0.3814697265625; effectiveType = 2g"],o)}function o(){t(MobileThrottling.networkPresets[1],["connection change event: type = cellular; downlinkMax = 1.373291015625; effectiveType = 3g"],s)}function s(){t(MobileThrottling.networkPresets[0],["connection change event: type = cellular; downlinkMax = 7.724761962890625; effectiveType = 4g"],e.releaseControl.bind(e))}e.takeControl(),t(MobileThrottling.networkPresets[3],["offline event: online = false","connection change event: type = none; downlinkMax = 0; effectiveType = 4g"],n)},c.prototype.testScreenshotRecording=function(){const e=this;const n=t.Settings.Settings.instance().createSetting("timeline-capture-film-strip",!1);n.set(!0),e.evaluateInConsole_(function(e){let t=0;const n=document.createElement("div");n.setAttribute("style","left: 0px; top: 0px; width: 100px; height: 100px; position: absolute;"),document.body.appendChild(n),requestAnimationFrame(function o(){const a=[0,0,0];a[t%3]=255,n.style.backgroundColor="rgb("+a.join(",")+")",++t>10?requestAnimationFrame(e):requestAnimationFrame(o)})}.toString(),function(){}),e.invokeAsyncWithTimeline_("performActionsInPage",function(){n.set(!1);const t=r.TimelinePanel.TimelinePanel.instance().performanceModel?.filmStripModel(),o=t.frames();e.assertTrue(o.length>4&&"number"==typeof o.length),function(t){const n=[];for(const e of t)e.imageDataPromise().then(o);function o(t){const n=new Image;e.assertTrue(Boolean(t),"No image data for frame"),n.addEventListener("load",a),n.src=t}function a(o){n.push(o.target),n.length===t.length&&function(t){let n=0,o=0,a=0;const s=document.createElement("canvas"),r=s.getContext("2d");for(const i of t){e.assertTrue(i.naturalWidth>10),e.assertTrue(i.naturalHeight>10),s.width=i.naturalWidth,s.height=i.naturalHeight,r.drawImage(i,0,0);const t=r.getImageData(0,0,1,1),l=Array.prototype.join.call(t.data,",");t.data[0]>200?n++:t.data[1]>200?o++:t.data[2]>200?a++:e.fail("Unexpected color: "+l)}e.assertTrue(n&&o&&a,"Color check failed"),e.releaseControl()}(n)}}(o)}),e.takeControl()},c.prototype.testSettings=function(){const e=this;function n(n){Main.Main.instanceForTest.createSettings(n);const o=t.Settings.Settings.instance().createLocalSetting("local",void 0);e.assertEquals("object",typeof o.get()),e.assertEquals("local",o.get().s),e.assertEquals(1,o.get().n);const a=t.Settings.Settings.instance().createSetting("global",void 0);e.assertEquals("object",typeof a.get()),e.assertEquals("global",a.get().s),e.assertEquals(2,a.get().n),e.releaseControl()}!function(){t.Settings.Settings.instance().createLocalSetting("local",void 0).set({s:"local",n:1});t.Settings.Settings.instance().createSetting("global",void 0).set({s:"global",n:2})}(),e.takeControl(),setTimeout(function(){o.Runtime.experiments.clearForTest(),Host.InspectorFrontendHost.getPreferences(n)},0)},c.prototype.testWindowInitializedOnNavigateBack=function(){const e=this;e.takeControl();function t(){const t=a.ConsoleModel.ConsoleModel.allMessagesUnordered();e.assertEquals(1,t.length),e.assertTrue(-1===t[0].messageText.indexOf("Uncaught")),e.releaseControl()}1===a.ConsoleModel.ConsoleModel.allMessagesUnordered().length?t():a.TargetManager.TargetManager.instance().addModelListener(a.ConsoleModel.ConsoleModel,a.ConsoleModel.Events.MessageAdded,t.bind(this),this)},c.prototype.testConsoleContextNames=function(){const e=this;function t(){const t=Console.ConsoleView.instance().consoleContextSelector,n=[];for(const e of t.items)n.push(t.titleFor(e));e.assertEquals("top",n[0]),e.assertEquals("Simple content script",n[1]),e.releaseControl()}e.takeControl(),this.showPanel("console").then(()=>this._waitForExecutionContexts(2,t.bind(this)))},c.prototype.testRawHeadersWithHSTS=function(e){const t=this;t.takeControl({slownessFactor:10}),a.TargetManager.TargetManager.instance().addModelListener(a.NetworkManager.NetworkManager,a.NetworkManager.Events.ResponseReceived,function(o){const a=o.data.request;if(!a.url().startsWith("http"))return;switch(++n){case 1:t.assertEquals(301,a.statusCode),t.assertEquals("Moved Permanently",a.statusText),t.assertTrue(e.endsWith(a.responseHeaderValue("Location")));break;case 2:t.assertTrue(a.url().startsWith("http://")),t.assertEquals(307,a.statusCode),t.assertEquals("Internal Redirect",a.statusText),t.assertEquals("HSTS",a.responseHeaderValue("Non-Authoritative-Reason")),t.assertTrue(a.responseHeaderValue("Location").startsWith("https://"));break;case 3:t.assertTrue(a.url().startsWith("https://")),t.assertTrue(a.requestHeaderValue("Referer").startsWith("http://127.0.0.1")),t.assertEquals(200,a.statusCode),t.assertEquals("OK",a.statusText),t.assertEquals("132",a.responseHeaderValue("Content-Length")),t.releaseControl()}}),this.evaluateInConsole_(`location.href= "${e}";`,()=>{});let n=0},c.prototype.testDOMWarnings=function(){const e=a.ConsoleModel.ConsoleModel.allMessagesUnordered();this.assertEquals(1,e.length);this.assertTrue(e[0].messageText.startsWith("[DOM] Found 2 elements with non-unique id #dup:"))},c.prototype.waitForTestResultsInConsole=function(){const e=a.ConsoleModel.ConsoleModel.allMessagesUnordered();for(let t=0;t<e.length;++t){const n=e[t].messageText;if("PASS"===n)return;/^FAIL/.test(n)&&this.fail(n)}a.TargetManager.TargetManager.instance().addModelListener(a.ConsoleModel.ConsoleModel,a.ConsoleModel.Events.MessageAdded,function(e){const t=e.data.messageText;"PASS"===t?this.releaseControl():/^FAIL/.test(t)&&this.fail(t)},this),this.takeControl({slownessFactor:10})},c.prototype.waitForTestResultsAsMessage=function(){const e=t=>{if(!t.data.testOutput)return;top.removeEventListener("message",e);const n=t.data.testOutput;"PASS"===n?this.releaseControl():this.fail(n)};top.addEventListener("message",e),this.takeControl()},c.prototype._overrideMethod=function(e,t,n){const o=e[t];"function"==typeof o?e[t]=function(){let a;try{a=o.apply(e,arguments)}finally{e[t]=o}return n.apply(o,arguments),a}:this.fail(`TestSuite._overrideMethod: ${t} is not a function`)},c.prototype.startTimeline=function(e){const t=this;this.showPanel("timeline").then(function(){const n=r.TimelinePanel.TimelinePanel.instance();t._overrideMethod(n,"recordingStarted",e),n._toggleRecording()})},c.prototype.stopTimeline=function(e){const t=r.TimelinePanel.TimelinePanel.instance();this._overrideMethod(t,"loadingComplete",e),t._toggleRecording()},c.prototype.invokePageFunctionAsync=function(e,t,n){const o=arguments[arguments.length-1],s=`DONE: ${e}.${++this._asyncInvocationId}`,r=arguments.length<3?"":Array.prototype.slice.call(arguments,1,-1).map(e=>JSON.stringify(e)).join(",")+",";this.evaluateInConsole_(`${e}(${r} function() { console.log('${s}'); });`,function(){}),a.TargetManager.TargetManager.instance().addModelListener(a.ConsoleModel.ConsoleModel,a.ConsoleModel.Events.MessageAdded,function e(t){t.data.messageText===s&&(a.TargetManager.TargetManager.instance().removeModelListener(a.ConsoleModel.ConsoleModel,a.ConsoleModel.Events.MessageAdded,e),o())})},c.prototype.invokeAsyncWithTimeline_=function(e,t){const n=this;function o(){n.stopTimeline(t)}this.startTimeline(function(){n.invokePageFunctionAsync(e,o)})},c.prototype.enableExperiment=function(e){o.Runtime.experiments.enableForTest(e)},c.prototype.testInspectedElementIs=async function(e){this.takeControl();const t=await self.runtime.loadLegacyModule("panels/elements/elements.js");t.ElementsPanel.ElementsPanel.firstInspectElementNodeNameForTest||await new Promise(e=>this.addSniffer(t.ElementsPanel.ElementsPanel,"firstInspectElementCompletedForTest",e)),this.assertEquals(e,t.ElementsPanel.ElementsPanel.firstInspectElementNodeNameForTest),this.releaseControl()},c.prototype.testDisposeEmptyBrowserContext=async function(e){this.takeControl();const t=a.TargetManager.TargetManager.instance().rootTarget()?.targetAgent(),{browserContextId:n}=await t.invoke_createBrowserContext(),o=await t.invoke_getBrowserContexts();this.assertEquals(o.browserContextIds.length,1),await t.invoke_disposeBrowserContext({browserContextId:n});const s=await t.invoke_getBrowserContexts();this.assertEquals(s.browserContextIds.length,0),this.releaseControl()},c.prototype.testNewWindowFromBrowserContext=async function(e){this.takeControl();const t=a.TargetManager.TargetManager.instance().rootTarget()?.targetAgent(),{browserContextId:n}=await t.invoke_createBrowserContext(),{targetId:o}=await t.invoke_createTarget({url:"data:text/html,<!DOCTYPE html>",browserContextId:n,newWindow:!0});await t.invoke_attachToTarget({targetId:o,flatten:!0}),await t.invoke_disposeBrowserContext({browserContextId:n}),this.releaseControl()},c.prototype.testCreateBrowserContext=async function(e){this.takeControl();const t=[],n=a.TargetManager.TargetManager.instance().rootTarget()?.targetAgent(),o=await d(e,t),s=await d(e,t),r=await n.invoke_getBrowserContexts();this.assertEquals(r.browserContextIds.length,2),this.assertTrue(r.browserContextIds.includes(t[0])),this.assertTrue(r.browserContextIds.includes(t[1])),await g(o,'localStorage.setItem("page1", "page1")'),await g(s,'localStorage.setItem("page2", "page2")'),this.assertEquals(await g(o,'localStorage.getItem("page1")'),"page1"),this.assertEquals(await g(o,'localStorage.getItem("page2")'),null),this.assertEquals(await g(s,'localStorage.getItem("page1")'),null),this.assertEquals(await g(s,'localStorage.getItem("page2")'),"page2");const i=[];a.TargetManager.TargetManager.instance().observeTargets({targetAdded:()=>{},targetRemoved:e=>i.push(e)}),await Promise.all([u(t[0]),u(t[1])]),this.assertEquals(i.length,2),this.assertEquals(-1!==i.indexOf(o),!0),this.assertEquals(-1!==i.indexOf(s),!0),this.releaseControl()},c.prototype.testInputDispatchEventsToOOPIF=async function(){async function e(e){return await g(e,"\n        (function() {\n          var result = window.logs.join(' ');\n          window.logs = [];\n          return result;\n        })()")}let t,n;this.takeControl(),await new Promise(e=>this._waitForTargets(2,e));const o=a.TargetManager.TargetManager.instance().primaryPageTarget()?.inputAgent(),s=a.TargetManager.TargetManager.instance().primaryPageTarget()?.runtimeAgent();await o.invoke_dispatchMouseEvent({type:"mousePressed",button:"left",clickCount:1,x:10,y:10}),await o.invoke_dispatchMouseEvent({type:"mouseMoved",button:"left",clickCount:1,x:10,y:20}),await o.invoke_dispatchMouseEvent({type:"mouseReleased",button:"left",clickCount:1,x:10,y:20}),await o.invoke_dispatchMouseEvent({type:"mousePressed",button:"left",clickCount:1,x:230,y:140}),await o.invoke_dispatchMouseEvent({type:"mouseMoved",button:"left",clickCount:1,x:230,y:150}),await o.invoke_dispatchMouseEvent({type:"mouseReleased",button:"left",clickCount:1,x:230,y:150}),t="Event type: mousedown button: 0 x: 10 y: 10 Event type: mouseup button: 0 x: 10 y: 20",this.assertEquals(t,await e(a.TargetManager.TargetManager.instance().targets()[0])),n="Event type: mousedown button: 0 x: 30 y: 40 Event type: mouseup button: 0 x: 30 y: 50",this.assertEquals(n,await e(a.TargetManager.TargetManager.instance().targets()[1])),await o.invoke_dispatchKeyEvent({type:"keyDown",key:"a"}),await s.invoke_evaluate({expression:"document.querySelector('iframe').focus()"}),await o.invoke_dispatchKeyEvent({type:"keyDown",key:"a"}),t="Event type: keydown",this.assertEquals(t,await e(a.TargetManager.TargetManager.instance().targets()[0])),n="Event type: keydown",this.assertEquals(n,await e(a.TargetManager.TargetManager.instance().targets()[1])),await o.invoke_dispatchTouchEvent({type:"touchStart",touchPoints:[{x:10,y:10}]}),await o.invoke_dispatchTouchEvent({type:"touchEnd",touchPoints:[]}),await o.invoke_dispatchTouchEvent({type:"touchStart",touchPoints:[{x:230,y:140}]}),await o.invoke_dispatchTouchEvent({type:"touchEnd",touchPoints:[]}),t="Event type: touchstart touch x: 10 touch y: 10",this.assertEquals(t,await e(a.TargetManager.TargetManager.instance().targets()[0])),n="Event type: touchstart touch x: 30 touch y: 40",this.assertEquals(n,await e(a.TargetManager.TargetManager.instance().targets()[1])),this.releaseControl()},c.prototype.testLoadResourceForFrontend=async function(e,t){const o=this,s=new Set(["cache-control","pragma"]);function r(e,t,a,r,i){return new Promise(l=>{n.ResourceLoader.load(e,t,function(e,t,n,c){o.assertEquals(a,c.statusCode);const d=[];for(const e in t){const t=e.toLowerCase();s.has(t)&&d.push(t)}d.sort(),o.assertEquals(r.join(", "),d.join(", ")),o.assertEquals(i,n),l()})})}this.takeControl({slownessFactor:10}),await r(e+"non-existent.html",void 0,404,[],""),await r(e+"hello.html",void 0,200,[],"<!doctype html>\n<p>hello</p>\n"),await r(e+"echoheader?x-devtools-test",{"x-devtools-test":"Foo"},200,["cache-control"],"Foo"),await r(e+"set-header?pragma:%20no-cache",void 0,200,["pragma"],"pragma: no-cache"),await(a.TargetManager.TargetManager.instance().primaryPageTarget()?.runtimeAgent().invoke_evaluate({expression:"fetch(\"/set-cookie?devtools-test-cookie=Bar\",\n                         {credentials: 'include'})",awaitPromise:!0})),await r(e+"echoheader?Cookie",void 0,200,["cache-control"],"devtools-test-cookie=Bar"),await(a.TargetManager.TargetManager.instance().primaryPageTarget()?.runtimeAgent().invoke_evaluate({expression:"fetch(\"/set-cookie?devtools-test-cookie=same-site-cookie;SameSite=Lax\",\n                         {credentials: 'include'})",awaitPromise:!0})),await r(e+"echoheader?Cookie",void 0,200,["cache-control"],"devtools-test-cookie=same-site-cookie"),await r("data:text/html,<body>hello</body>",void 0,200,[],"<body>hello</body>"),await r(t,void 0,200,[],"<!DOCTYPE html>\n<html>\n<body>\nDummy page.\n</body>\n</html>\n"),await r(t+"thisfileshouldnotbefound",void 0,404,[],""),this.releaseControl()},c.prototype.testExtensionWebSocketUserAgentOverride=async function(e){this.takeControl();const n="test user agent";a.NetworkManager.MultitargetNetworkManager.instance().setUserAgentOverride(n,null),a.TargetManager.TargetManager.instance().addModelListener(a.NetworkManager.NetworkManager,a.NetworkManager.Events.RequestUpdated,function(e){const o=e.data;if(o.resourceType()!==t.ResourceType.resourceTypes.WebSocket)return;if(!o.requestHeadersText())return;let a="no user-agent header";for(const{name:e,value:t}of o.requestHeaders())"user-agent"===e.toLowerCase()&&(a=t);this.assertEquals(n,a),this.releaseControl()}.bind(this)),this.evaluateInConsole_(`new WebSocket('ws://127.0.0.1:${e}')`,()=>{})},c.prototype.testExtensionWebSocketOfflineNetworkConditions=async function(e){a.NetworkManager.MultitargetNetworkManager.instance().setNetworkConditions(a.NetworkManager.OfflineConditions),this.addSniffer(a.NetworkManager.NetworkDispatcher.prototype,"webSocketClosed",()=>{this.releaseControl()}),this.takeControl(),this.evaluateInConsole_(`new WebSocket('ws://127.0.0.1:${e}/echo-with-no-extension')`,()=>{})},c.prototype.uiSourceCodesToString_=function(e){const t=[];for(let n=0;n<e.length;n++)t.push('"'+e[n].url()+'"');return t.join(",")},c.prototype.testSourceMapsFromExtension=function(e){this.takeControl();const t=a.TargetManager.TargetManager.instance().primaryPageTarget()?.model(a.DebuggerModel.DebuggerModel);t.sourceMapManager().addEventListener(a.SourceMapManager.Events.SourceMapAttached,this.releaseControl.bind(this)),this.evaluateInConsole_(`console.log(1) //# sourceMappingURL=chrome-extension://${e}/source.map`,()=>{})},c.prototype.testSourceMapsFromDevtools=function(){this.takeControl();const e=a.TargetManager.TargetManager.instance().primaryPageTarget()?.model(a.DebuggerModel.DebuggerModel);e.sourceMapManager().addEventListener(a.SourceMapManager.Events.SourceMapWillAttach,this.releaseControl.bind(this)),this.evaluateInConsole_("console.log(1) //# sourceMappingURL=devtools://devtools/bundled/devtools_compatibility.js",()=>{})},c.prototype.testDoesNotCrashOnSourceMapsFromUnknownScheme=function(){this.evaluateInConsole_("console.log(1) //# sourceMappingURL=invalid-scheme://source.map",()=>{})},c.prototype.nonAnonymousUISourceCodes_=function(){return l.Workspace.WorkspaceImpl.instance().uiSourceCodes().filter(function(e){return!e.project().isServiceProject()})},c.prototype.evaluateInConsole_=function(e,n){function o(){i.Context.Context.instance().removeFlavorChangeListener(a.RuntimeModel.ExecutionContext,s,this);Console.ConsoleView.instance().prompt.appendCommand(e),this.addSniffer(Console.ConsoleView.prototype,"consoleMessageAddedForTest",function(e){n(e.toMessageElement().deepTextContent())}.bind(this))}function s(){t.Console.Console.instance().showPromise().then(o.bind(this))}i.Context.Context.instance().flavor(a.RuntimeModel.ExecutionContext)?s.call(this):i.Context.Context.instance().addFlavorChangeListener(a.RuntimeModel.ExecutionContext,s,this)},c.prototype._scriptsAreParsed=function(e){const t=this.nonAnonymousUISourceCodes_(),n=e.slice(0);for(let e=0;e<t.length;++e)for(let o=0;o<n.length;++o)if(-1!==t[e].name().search(n[o])){n.splice(o,1);break}return 0===n.length},c.prototype._waitForScriptPause=function(e){this.addSniffer(a.DebuggerModel.DebuggerModel.prototype,"pausedScript",e)},c.prototype._waitUntilScriptsAreParsed=function(e,t){const n=this;!function o(){n._scriptsAreParsed(e)?t():n.addSniffer(s.SourcesPanel.SourcesPanel.instance().sourcesView(),"addUISourceCode",o)}()},c.prototype._waitForTargets=function(e,t){(function n(){a.TargetManager.TargetManager.instance().targets().length>=e?t.call(null):this.addSniffer(a.TargetManager.TargetManager.prototype,"createTarget",n.bind(this))}).call(this)},c.prototype._waitForExecutionContexts=function(e,t){const n=a.TargetManager.TargetManager.instance().primaryPageTarget()?.model(a.RuntimeModel.RuntimeModel);(function o(){n.executionContexts().length>=e?t.call(null):this.addSniffer(a.RuntimeModel.RuntimeModel.prototype,"executionContextCreated",o.bind(this))}).call(this)},e.uiTests=new c(e.domAutomationController)}(window);