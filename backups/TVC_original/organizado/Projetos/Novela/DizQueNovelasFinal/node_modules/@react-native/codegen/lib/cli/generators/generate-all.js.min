"use strict";const RNCodegen=require("../../generators/RNCodegen.js"),fs=require("fs"),args=process.argv.slice(2);if(args.length<3)throw new Error(`Expected to receive path to schema, library name, output directory and module spec name. Received ${args.join(", ")}`);const schemaPath=args[0],libraryName=args[1],outputDirectory=args[2],packageName=args[3],assumeNonnull="true"===args[4]||"True"===args[4],schemaText=fs.readFileSync(schemaPath,"utf-8");if(null==schemaText)throw new Error(`Can't find schema at ${schemaPath}`);let schema;fs.mkdirSync(outputDirectory,{recursive:!0});try{schema=JSON.parse(schemaText)}catch(e){throw new Error(`Can't parse schema to JSON. ${schemaPath}`)}RNCodegen.generate({libraryName:libraryName,schema:schema,outputDirectory:outputDirectory,packageName:packageName,assumeNonnull:assumeNonnull},{generators:["descriptors","events","props","states","tests","shadow-nodes","modulesAndroid","modulesCxx","modulesIOS"]});