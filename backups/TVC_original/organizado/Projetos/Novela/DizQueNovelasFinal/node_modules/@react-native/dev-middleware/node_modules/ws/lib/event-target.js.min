"use strict";class Event{constructor(e,t){this.target=t,this.type=e}}class MessageEvent extends Event{constructor(e,t){super("message",t),this.data=e}}class CloseEvent extends Event{constructor(e,t,s){super("close",s),this.wasClean=s._closeFrameReceived&&s._closeFrameSent,this.reason=t,this.code=e}}class OpenEvent extends Event{constructor(e){super("open",e)}}class ErrorEvent extends Event{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const EventTarget={addEventListener(e,t){function s(e){t.call(this,new MessageEvent(e,this))}function n(e,s){t.call(this,new CloseEvent(e,s,this))}function r(e){t.call(this,new ErrorEvent(e,this))}function o(){t.call(this,new OpenEvent(this))}"function"==typeof t&&("message"===e?(s._listener=t,this.on(e,s)):"close"===e?(n._listener=t,this.on(e,n)):"error"===e?(r._listener=t,this.on(e,r)):"open"===e?(o._listener=t,this.on(e,o)):this.on(e,t))},removeEventListener(e,t){const s=this.listeners(e);for(var n=0;n<s.length;n++)s[n]!==t&&s[n]._listener!==t||this.removeListener(e,s[n])}};module.exports=EventTarget;