"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleTraverserSkip=exports.SimpleTraverserBreak=exports.SimpleTraverser=void 0;var _getVisitorKeys=require("./getVisitorKeys");const SimpleTraverserSkip=new Error;exports.SimpleTraverserSkip=SimpleTraverserSkip;const SimpleTraverserBreak=new Error;exports.SimpleTraverserBreak=SimpleTraverserBreak;class SimpleTraverser{traverse(r,e){try{this._traverse(r,null,e)}catch(r){if(r===SimpleTraverserBreak)return;throw r}}_traverse(r,e,t){if(!(0,_getVisitorKeys.isNode)(r))return;try{t.enter(r,e)}catch(e){if(e===SimpleTraverserSkip)return;throw this._setErrorContext(e,r),e}const s=(0,_getVisitorKeys.getVisitorKeys)(r,t.visitorKeys);for(const e of s){const s=r[e];if(Array.isArray(s))for(let e=0;e<s.length;++e)this._traverse(s[e],r,t);else this._traverse(s,r,t)}try{t.leave(r,e)}catch(e){if(e===SimpleTraverserSkip)return;throw this._setErrorContext(e,r),e}}_setErrorContext(r,e){r.currentNode={type:e.type,range:e.range,loc:e.loc}}static traverse(r,e){(new SimpleTraverser).traverse(r,e)}}exports.SimpleTraverser=SimpleTraverser,SimpleTraverser.Break=SimpleTraverserBreak,SimpleTraverser.Skip=SimpleTraverserSkip;