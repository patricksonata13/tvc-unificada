"use strict";const supportsColor=require("supports-color"),hasFlag=require("has-flag");function parseVersion(r){if(/^\d{3,4}$/.test(r)){const s=/(\d{1,2})(\d{2})/.exec(r);return{major:0,minor:parseInt(s[1],10),patch:parseInt(s[2],10)}}const s=(r||"").split(".").map(r=>parseInt(r,10));return{major:s[0],minor:s[1],patch:s[2]}}function supportsHyperlink(r){const{env:s}=process;if("FORCE_HYPERLINK"in s)return!(s.FORCE_HYPERLINK.length>0&&0===parseInt(s.FORCE_HYPERLINK,10));if(hasFlag("no-hyperlink")||hasFlag("no-hyperlinks")||hasFlag("hyperlink=false")||hasFlag("hyperlink=never"))return!1;if(hasFlag("hyperlink=true")||hasFlag("hyperlink=always"))return!0;if("NETLIFY"in s)return!0;if(!supportsColor.supportsColor(r))return!1;if(r&&!r.isTTY)return!1;if("win32"===process.platform)return!1;if("CI"in s)return!1;if("TEAMCITY_VERSION"in s)return!1;if("TERM_PROGRAM"in s){const r=parseVersion(s.TERM_PROGRAM_VERSION);switch(s.TERM_PROGRAM){case"iTerm.app":return 3===r.major?r.minor>=1:r.major>3;case"WezTerm":return r.major>=20200620;case"vscode":return r.major>1||1===r.major&&r.minor>=72}}if("VTE_VERSION"in s){if("0.50.0"===s.VTE_VERSION)return!1;const r=parseVersion(s.VTE_VERSION);return r.major>0||r.minor>=50}return!1}module.exports={supportsHyperlink:supportsHyperlink,stdout:supportsHyperlink(process.stdout),stderr:supportsHyperlink(process.stderr)};