"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createInlinePlatformChecks;const importMap=new Map([["ReactNative","react-native"]]);function createInlinePlatformChecks(e,t="require"){const{isIdentifier:a,isStringLiteral:r,isNumericLiteral:n,isMemberExpression:o,isCallExpression:c}=e,l=(e,t,r)=>a(e.property,{name:"OS"})&&f(e.object,t,[{name:"Platform"}],r),i=(e,t,r)=>a(e.property,{name:"OS"})&&o(e.object)&&a(e.object.property,{name:"Platform"})&&f(e.object.object,t,[{name:"React"},{name:"ReactNative"}],r),m=(e,t,r)=>o(e.callee)&&a(e.callee.property,{name:"select"})&&f(e.callee.object,t,[{name:"Platform"}],r),s=(e,t,r)=>o(e.callee)&&a(e.callee.property,{name:"select"})&&o(e.callee.object)&&a(e.callee.object.property,{name:"Platform"})&&f(e.callee.object.object,t,[{name:"React"},{name:"ReactNative"}],r),p=(e,r,n)=>n.some(r=>{const n=importMap.get(r.name)||r.name;return((e,r)=>c(e)&&a(e.callee,{name:t})&&b(e.arguments,r))(e,n)}),f=(e,t,r,n)=>{const o=r.find(t=>a(e,t));return!!o&&u(t.getBinding(o.name),n)||p(e,0,r)},b=(t,a)=>{const c=e.stringLiteral(a);return r(t[0],c)||o(t[0])&&n(t[0].property)&&r(t[1],c)},u=(e,t)=>!e||!e.scope.parent||t&&!e.scope.parent.parent;return{isPlatformNode:(e,t,a)=>l(e,t,a)||i(e,t,a),isPlatformSelectNode:(e,t,a)=>m(e,t,a)||s(e,t,a)}}