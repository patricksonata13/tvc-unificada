export class StatusError extends Error{status;body;constructor(e=500,r,s){const t=(null!=s&&s.cause)??(null!=r&&"object"==typeof r&&null!=r.cause?r.cause:void 0);let o="object"==typeof r?r instanceof Error?r.message:r.error:r;if(null==o)switch(e){case 400:o="Bad Request";break;case 401:o="Unauthorized";break;case 403:o="Forbidden";break;case 404:o="Not Found";break;case 500:o="Internal Server Error";break;default:o="Unknown Error"}super(o,t?{cause:t}:void 0),this.name="StatusError",this.status=e,r instanceof Error?this.body=JSON.stringify({error:r.message},null,2):this.body="object"==typeof r?JSON.stringify(r,null,2):r??JSON.stringify({error:o},null,2)}}export function errorToResponse(e){if(e instanceof StatusError)return new Response(e.body,{status:e.status,headers:{"Content-Type":"application/json; charset=utf-8"}});if("status"in e&&"number"==typeof e.status){const r="body"in e&&"string"==typeof e.body?e.body:JSON.stringify({error:e.message},null,2);return new Response(r,{status:e.status})}return new Response(`${e}`,{status:500})}