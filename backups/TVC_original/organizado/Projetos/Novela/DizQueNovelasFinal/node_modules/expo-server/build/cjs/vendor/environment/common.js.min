"use strict";function initManifestRegExp(e){return{...e,htmlRoutes:e.htmlRoutes.map(e=>({...e,namedRegex:new RegExp(e.namedRegex)})),apiRoutes:e.apiRoutes.map(e=>({...e,namedRegex:new RegExp(e.namedRegex)})),notFoundRoutes:e.notFoundRoutes.map(e=>({...e,namedRegex:new RegExp(e.namedRegex)})),redirects:e.redirects?.map(e=>({...e,namedRegex:new RegExp(e.namedRegex)})),rewrites:e.rewrites?.map(e=>({...e,namedRegex:new RegExp(e.namedRegex)}))}}function createEnvironment(e){return{getRoutesManifest:async()=>initManifestRegExp(await e.readJson("_expo/routes.json")),async getHtml(t,n){let a;if(null!=(a=await e.readText(n.page+".html")))return a;const r="/index";if(n.page.endsWith(r)&&n.page.length>6){const t=n.page.slice(0,-6);if(null!=(a=await e.readText(t+".html")))return a}return null},getApiRoute:async t=>e.loadModule(t.file),async getMiddleware(t){const n=await e.loadModule(t.file);return"function"!=typeof n?.default?null:n}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createEnvironment=createEnvironment;