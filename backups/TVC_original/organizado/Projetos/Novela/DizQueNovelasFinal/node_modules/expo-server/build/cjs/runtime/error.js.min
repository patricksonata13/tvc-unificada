"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatusError=void 0,exports.errorToResponse=errorToResponse;class StatusError extends Error{status;body;constructor(r=500,e,s){const t=(null!=s&&s.cause)??(null!=e&&"object"==typeof e&&null!=e.cause?e.cause:void 0);let o="object"==typeof e?e instanceof Error?e.message:e.error:e;if(null==o)switch(r){case 400:o="Bad Request";break;case 401:o="Unauthorized";break;case 403:o="Forbidden";break;case 404:o="Not Found";break;case 500:o="Internal Server Error";break;default:o="Unknown Error"}super(o,t?{cause:t}:void 0),this.name="StatusError",this.status=r,e instanceof Error?this.body=JSON.stringify({error:e.message},null,2):this.body="object"==typeof e?JSON.stringify(e,null,2):e??JSON.stringify({error:o},null,2)}}function errorToResponse(r){if(r instanceof StatusError)return new Response(r.body,{status:r.status,headers:{"Content-Type":"application/json; charset=utf-8"}});if("status"in r&&"number"==typeof r.status){const e="body"in r&&"string"==typeof r.body?r.body:JSON.stringify({error:r.message},null,2);return new Response(e,{status:r.status})}return new Response(`${r}`,{status:500})}exports.StatusError=StatusError;