export const $output=Symbol("ZodOutput");export const $input=Symbol("ZodInput");export class $ZodRegistry{constructor(){this._map=new Map,this._idmap=new Map}add(t,...e){const i=e[0];if(this._map.set(t,i),i&&"object"==typeof i&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const e=this._map.get(t);return e&&"object"==typeof e&&"id"in e&&this._idmap.delete(e.id),this._map.delete(t),this}get(t){const e=t._zod.parent;if(e){const i={...this.get(e)??{}};return delete i.id,{...i,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}export function registry(){return new $ZodRegistry}export const globalRegistry=registry();