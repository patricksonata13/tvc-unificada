var el,hammer,tripleTapCount=0,doubleTapCount=0,tapCount=0;QUnit.module("Tap delay",{beforeEach:function(){el=utils.createHitArea(),hammer=new Hammer(el,{recognizers:[]});var e=new Hammer.Tap,t=new Hammer.Tap({event:"doubleTap",taps:2}),a=new Hammer.Tap({event:"tripleTap",taps:3});hammer.add([a,t,e]),a.recognizeWith([t,e]),t.recognizeWith(e),t.requireFailure(a),e.requireFailure([a,t]),tripleTapCount=0,doubleTapCount=0,tapCount=0,hammer.on("tap",function(){tapCount++}),hammer.on("doubleTap",function(){doubleTapCount++}),hammer.on("tripleTap",function(){tripleTapCount++})},afterEach:function(){hammer.destroy()}}),QUnit.test("When a tripleTap is fired, doubleTap and Tap should not be recognized",function(e){var t=e.async();e.expect(3),utils.dispatchTouchEvent(el,"start",50,50),utils.dispatchTouchEvent(el,"end",50,50),utils.dispatchTouchEvent(el,"start",50,50),utils.dispatchTouchEvent(el,"end",50,50),utils.dispatchTouchEvent(el,"start",50,50),utils.dispatchTouchEvent(el,"end",50,50),setTimeout(function(){e.equal(tripleTapCount,1,"one tripletap event"),e.equal(doubleTapCount,0,"no doubletap event"),e.equal(tapCount,0,"no singletap event"),t()},350)}),QUnit.test("When a doubleTap is fired, tripleTap and Tap should not be recognized",function(e){var t=e.async();e.expect(3),utils.dispatchTouchEvent(el,"start",50,50),utils.dispatchTouchEvent(el,"end",50,50),utils.dispatchTouchEvent(el,"start",50,50),utils.dispatchTouchEvent(el,"end",50,50),setTimeout(function(){e.equal(tripleTapCount,0,"No tripple taps recognized"),e.equal(doubleTapCount,1,"1 double tap recognized"),e.equal(tapCount,0,"No single taps recognized"),t()},350)}),QUnit.test("When a tap is fired, tripleTap and doubleTap should not be recognized",function(e){var t=e.async();e.expect(3),utils.dispatchTouchEvent(el,"start",50,50),utils.dispatchTouchEvent(el,"end",50,50),setTimeout(function(){e.equal(tripleTapCount,0,"No tripple taps recognized"),e.equal(doubleTapCount,0,"No double taps recognized"),e.equal(tapCount,1,"1 single tap recognized"),t()},350)});