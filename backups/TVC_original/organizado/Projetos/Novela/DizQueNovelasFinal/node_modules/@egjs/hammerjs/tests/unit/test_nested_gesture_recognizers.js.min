var parent,child,hammerChild,hammerParent;QUnit.module("Nested gesture recognizers (Tap Child + Pan Parent)",{beforeEach:function(){parent=document.createElement("div"),child=document.createElement("div"),document.getElementById("qunit-fixture").appendChild(parent),parent.appendChild(child),hammerParent=new Hammer.Manager(parent,{touchAction:"none"}),(hammerChild=new Hammer.Manager(child,{touchAction:"none"})).add(new Hammer.Tap),hammerParent.add(new Hammer.Pan({threshold:5,pointers:1}))},afterEach:function(){hammerChild.destroy(),hammerParent.destroy()}}),QUnit.test("Tap on the child",function(e){e.expect(1),hammerChild.on("tap",function(){e.ok(!0)}),hammerParent.on("tap",function(){throw new Error("tap should not fire on parent")}),utils.dispatchTouchEvent(child,"start",0,10),utils.dispatchTouchEvent(child,"end",0,10)}),QUnit.test("Panning on the child should fire parent pan and should not fire child tap event",function(e){e.expect(1),hammerChild.on("tap",function(){throw new Error("tap should not fire on parent")}),hammerParent.on("panend",function(){e.ok(!0)}),utils.dispatchTouchEvent(child,"start",10,0),utils.dispatchTouchEvent(child,"move",20,0),utils.dispatchTouchEvent(child,"end",30,0)});var pressPeriod=600;QUnit.module("Nested gesture recognizers (Press Child + Pan Parent)",{beforeEach:function(){parent=document.createElement("div"),child=document.createElement("div"),document.getElementById("qunit-fixture").appendChild(parent),parent.appendChild(child),hammerParent=new Hammer.Manager(parent,{touchAction:"none"}),(hammerChild=new Hammer.Manager(child,{touchAction:"none"})).add(new Hammer.Press({time:pressPeriod})),hammerParent.add(new Hammer.Pan({threshold:5,pointers:1}))},afterEach:function(){hammerChild.destroy(),hammerParent.destroy()}}),QUnit.test("Press on the child",function(e){e.expect(1),hammerChild.on("press",function(){e.ok(!0)}),hammerParent.on("press",function(){throw new Error("press should not fire on parent")}),utils.dispatchTouchEvent(child,"start",0,10);var t=e.async();setTimeout(function(){t()},pressPeriod)}),QUnit.test("When Press is followed by Pan on the same element, both gestures are recognized",function(e){e.expect(2),hammerChild.on("press",function(){e.ok(!0)}),hammerParent.on("panend",function(){e.ok(!0)}),utils.dispatchTouchEvent(child,"start",0,10);var t=e.async();setTimeout(function(){utils.dispatchTouchEvent(child,"move",10,10),utils.dispatchTouchEvent(child,"move",20,10),utils.dispatchTouchEvent(child,"move",30,10),utils.dispatchTouchEvent(child,"end",30,10),t()},pressPeriod)});