import AttrRecognizer from"../recognizers/attribute";import{abs}from"../utils/utils-consts";import{DIRECTION_HORIZONTAL,DIRECTION_VERTICAL}from"../inputjs/input-consts";import PanRecognizer from"./pan";import{INPUT_END}from"../inputjs/input-consts";import directionStr from"../recognizerjs/direction-str";export default class SwipeRecognizer extends AttrRecognizer{constructor(t={}){super({event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,pointers:1,...t})}getTouchAction(){return PanRecognizer.prototype.getTouchAction.call(this)}attrTest(t){let e,{direction:i}=this.options;return i&(DIRECTION_HORIZONTAL|DIRECTION_VERTICAL)?e=t.overallVelocity:i&DIRECTION_HORIZONTAL?e=t.overallVelocityX:i&DIRECTION_VERTICAL&&(e=t.overallVelocityY),super.attrTest(t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&abs(e)>this.options.velocity&&t.eventType&INPUT_END}emit(t){let e=directionStr(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}