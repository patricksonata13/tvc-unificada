var parent,child,hammerChild,hammerParent;QUnit.module("Propagation (Tap in Child and Parent)",{beforeEach:function(){parent=document.createElement("div"),child=document.createElement("div"),document.getElementById("qunit-fixture").appendChild(parent),parent.appendChild(child),hammerParent=new Hammer.Manager(parent),(hammerChild=new Hammer.Manager(child)).add(new Hammer.Tap),hammerParent.add(new Hammer.Tap)},afterEach:function(){hammerChild.destroy(),hammerParent.destroy()}}),QUnit.test("Tap on the child, fires also the tap event to the parent",function(e){e.expect(2),hammerChild.on("tap",function(){e.ok(!0)}),hammerParent.on("tap",function(){e.ok(!0)}),utils.dispatchTouchEvent(child,"start",0,10),utils.dispatchTouchEvent(child,"end",0,10)}),QUnit.test("When tap on the child and the child stops the input event propagation, the tap event does not get fired in the parent",function(e){e.expect(1),hammerChild.on("tap",function(){e.ok(!0)}),hammerParent.on("tap",function(){throw new Error("parent tap gesture should not be recognized")}),child.addEventListener("touchend",function(e){e.stopPropagation()}),utils.dispatchTouchEvent(child,"start",0,10),utils.dispatchTouchEvent(child,"end",0,10)});