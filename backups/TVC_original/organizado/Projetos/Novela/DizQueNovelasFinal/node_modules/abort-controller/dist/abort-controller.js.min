"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var eventTargetShim=require("event-target-shim");class AbortSignal extends eventTargetShim.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const t=abortedFlags.get(this);if("boolean"!=typeof t)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return t}}function createAbortSignal(){const t=Object.create(AbortSignal.prototype);return eventTargetShim.EventTarget.call(t),abortedFlags.set(t,!1),t}function abortSignal(t){!1===abortedFlags.get(t)&&(abortedFlags.set(t,!0),t.dispatchEvent({type:"abort"}))}eventTargetShim.defineEventAttribute(AbortSignal.prototype,"abort");const abortedFlags=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class AbortController{constructor(){signals.set(this,createAbortSignal())}get signal(){return getSignal(this)}abort(){abortSignal(getSignal(this))}}const signals=new WeakMap;function getSignal(t){const e=signals.get(t);if(null==e)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===t?"null":typeof t));return e}Object.defineProperties(AbortController.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortController.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),exports.AbortController=AbortController,exports.AbortSignal=AbortSignal,exports.default=AbortController,module.exports=AbortController,module.exports.AbortController=module.exports.default=AbortController,module.exports.AbortSignal=AbortSignal;