/**
 * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
 * CJS and ESM environments.
 *
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
var _a,_b,_c;import{format}from"util";import{normalize,resolve}from"path";import{camelCase,decamelize,looksLikeNumber}from"./string-utils.js";import{YargsParser}from"./yargs-parser.js";import{readFileSync}from"fs";const minNodeVersion=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,nodeVersion=null!==(_b=null===(_a=null===process||void 0===process?void 0:process.versions)||void 0===_a?void 0:_a.node)&&void 0!==_b?_b:null===(_c=null===process||void 0===process?void 0:process.version)||void 0===_c?void 0:_c.slice(1);if(nodeVersion){if(Number(nodeVersion.match(/^([^.]+)/)[1])<minNodeVersion)throw Error(`yargs parser supports a minimum Node.js version of ${minNodeVersion}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`)}const env=process?process.env:{},parser=new YargsParser({cwd:process.cwd,env:()=>env,format:format,normalize:normalize,resolve:resolve,require:r=>{if("undefined"!=typeof require)return require(r);if(r.match(/\.json$/))return JSON.parse(readFileSync(r,"utf8"));throw Error("only .json config files are supported in ESM")}}),yargsParser=function(r,e){return parser.parse(r.slice(),e).argv};yargsParser.detailed=function(r,e){return parser.parse(r.slice(),e)},yargsParser.camelCase=camelCase,yargsParser.decamelize=decamelize,yargsParser.looksLikeNumber=looksLikeNumber;export default yargsParser;