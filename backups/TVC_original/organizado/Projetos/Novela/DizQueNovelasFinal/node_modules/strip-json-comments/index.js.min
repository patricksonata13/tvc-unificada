"use strict";var singleComment=1,multiComment=2;function stripWithoutWhitespace(){return""}function stripWithWhitespace(e,t,i){return e.slice(t,i).replace(/\S/g," ")}module.exports=function(e,t){for(var i,n,s=!1,r=!1,m=0,o="",u=!1===(t=t||{}).whitespace?stripWithoutWhitespace:stripWithWhitespace,c=0;c<e.length;c++){if(i=e[c],n=e[c+1],!r&&'"'===i)"\\"===e[c-1]&&"\\"!==e[c-2]||(s=!s);if(!s)if(r||i+n!=="//"){if(r===singleComment&&i+n==="\r\n"){r=!1,o+=u(e,m,++c),m=c;continue}if(r===singleComment&&"\n"===i)r=!1,o+=u(e,m,c),m=c;else{if(!r&&i+n==="/*"){o+=e.slice(m,c),m=c,r=multiComment,c++;continue}if(r===multiComment&&i+n==="*/"){r=!1,o+=u(e,m,++c+1),m=c+1;continue}}}else o+=e.slice(m,c),m=c,r=singleComment,c++}return o+(r?u(e.substr(m)):e.substr(m))};