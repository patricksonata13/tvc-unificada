"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseNullableDef=void 0;const parseDef_js_1=require("../parseDef.js"),union_js_1=require("./union.js");function parseNullableDef(e,n){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===n.target?{type:union_js_1.primitiveMappings[e.innerType._def.typeName],nullable:!0}:{type:[union_js_1.primitiveMappings[e.innerType._def.typeName],"null"]};if("openApi3"===n.target){const r=(0,parseDef_js_1.parseDef)(e.innerType._def,{...n,currentPath:[...n.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const r=(0,parseDef_js_1.parseDef)(e.innerType._def,{...n,currentPath:[...n.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}exports.parseNullableDef=parseNullableDef;