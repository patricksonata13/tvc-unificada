"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseIntersectionDef=void 0;const parseDef_js_1=require("../parseDef.js"),isJsonSchema7AllOfType=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e;function parseIntersectionDef(e,t){const r=[(0,parseDef_js_1.parseDef)(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),(0,parseDef_js_1.parseDef)(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e);let s="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0;const a=[];return r.forEach(e=>{if(isJsonSchema7AllOfType(e))a.push(...e.allOf),void 0===e.unevaluatedProperties&&(s=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:r,...s}=e;t=s}else s=void 0;a.push(t)}}),a.length?{allOf:a,...s}:void 0}exports.parseIntersectionDef=parseIntersectionDef;