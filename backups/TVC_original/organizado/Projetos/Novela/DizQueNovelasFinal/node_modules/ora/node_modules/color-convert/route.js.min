var conversions=require("./conversions");function buildGraph(){for(var n={},r=Object.keys(conversions),e=r.length,t=0;t<e;t++)n[r[t]]={distance:-1,parent:null};return n}function deriveBFS(n){var r=buildGraph(),e=[n];for(r[n].distance=0;e.length;)for(var t=e.pop(),o=Object.keys(conversions[t]),i=o.length,a=0;a<i;a++){var s=o[a],c=r[s];-1===c.distance&&(c.distance=r[t].distance+1,c.parent=t,e.unshift(s))}return r}function link(n,r){return function(e){return r(n(e))}}function wrapConversion(n,r){for(var e=[r[n].parent,n],t=conversions[r[n].parent][n],o=r[n].parent;r[o].parent;)e.unshift(r[o].parent),t=link(conversions[r[o].parent][o],t),o=r[o].parent;return t.conversion=e,t}module.exports=function(n){for(var r=deriveBFS(n),e={},t=Object.keys(r),o=t.length,i=0;i<o;i++){var a=t[i];null!==r[a].parent&&(e[a]=wrapConversion(a,r))}return e};