<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TVC MASTER - Plataforma Completa</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0a;
            color: #fff;
            padding: 20px;
        }
        .container { max-width: 1600px; margin: 0 auto; }
        
        .header {
            background: linear-gradient(135deg, #0066CC, #0099FF);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            text-align: center;
        }
        .header h1 { font-size: 2.5em; }
        .header span { color: #FFD700; }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .stat-card {
            background: #1a1a1a;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border-left: 3px solid #0066CC;
        }
        .stat-value { font-size: 1.3em; font-weight: bold; color: #0099FF; }
        
        .menu {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .menu-btn {
            padding: 15px 25px;
            background: #1a1a1a;
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }
        .menu-btn:hover { background: #0066CC; }
        .menu-btn.active { background: #0066CC; }
        
        .content {
            background: #1a1a1a;
            border-radius: 15px;
            padding: 30px;
            min-height: 600px;
        }
        
        /* Grids */
        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }
        .card {
            background: #2a2a2a;
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #0066CC;
        }
        
        /* Loading */
        .loading { text-align: center; padding: 50px; color: #666; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><span>TVC</span> MASTER</h1>
            <p>Escaleta Hub ‚Ä¢ Jornalismo ‚Ä¢ Esportes ‚Ä¢ TV ‚Ä¢ Financeiro ‚Ä¢ Equipe ‚Ä¢ Ferramentas</p>
        </div>
        
        <div class="stats-grid" id="stats"></div>
        
        <div class="menu">
            <button class="menu-btn active" onclick="mudarAba('escaleta')">üìö ESCALETA</button>
            <button class="menu-btn" onclick="mudarAba('jornalismo')">üì∞ JORNALISMO</button>
            <button class="menu-btn" onclick="mudarAba('esportes')">‚öΩ ESPORTES</button>
            <button class="menu-btn" onclick="mudarAba('tv')">üì∫ TV</button>
            <button class="menu-btn" onclick="mudarAba('financeiro')">üí∞ FINANCEIRO</button>
            <button class="menu-btn" onclick="mudarAba('equipe')">üë• EQUIPE</button>
            <button class="menu-btn" onclick="mudarAba('ferramentas')">üõ†Ô∏è FERRAMENTAS</button>
        </div>
        
        <div class="content" id="content">
            <div class="loading">Carregando TVC MASTER...</div>
        </div>
    </div>

    <script>
        // Carregar stats
        async function carregarStats() {
            try {
                const res = await fetch('/api/stats');
                const data = await res.json();
                
                let html = '';
                for (let [key, value] of Object.entries(data)) {
                    html += `<div class="stat-card"><div class="stat-value">${value}</div><div>${key}</div></div>`;
                }
                document.getElementById('stats').innerHTML = html;
            } catch(e) { console.log(e); }
        }
        
        function mudarAba(aba) {
            document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            
            if (aba === 'escaleta') carregarEscaleta();
            if (aba === 'jornalismo') carregarJornalismo();
            if (aba === 'esportes') carregarEsportes();
            if (aba === 'tv') carregarTV();
            if (aba === 'financeiro') carregarFinanceiro();
            if (aba === 'equipe') carregarEquipe();
            if (aba === 'ferramentas') carregarFerramentas();
        }
        
        // Implementar cada fun√ß√£o de carregamento aqui...
        // (vou encurtar por quest√£o de espa√ßo, mas voc√™ j√° tem todas as fun√ß√µes dos passos anteriores)
        
        carregarStats();
        carregarEscaleta();
        setInterval(carregarStats, 30000);
    </script>
</body>
</html>

        // ===== ESCALETA HUB =====
        async function carregarEscaleta() {
            const div = document.getElementById('content');
            div.innerHTML = '<div class="loading">Carregando Escaleta Hub...</div>';
            
            try {
                const res = await fetch('/api/escaleta');
                const data = await res.json();
                
                let html = '<h2 style="margin-bottom: 20px;">üìö ESCALETA HUB - 23 PROJETOS</h2>';
                
                // Longas
                html += '<h3 style="margin: 20px 0 10px;">üé¨ LONGAS</h3><div class="grid-4">';
                data.longas.forEach(p => {
                    html += `
                        <div class="card">
                            <h4>${p.nome}</h4>
                            <div style="color: #FFD700;">${p.status} ‚Ä¢ ${p.progresso}%</div>
                            <div style="color: #0099FF;">${p.visao}</div>
                            <div style="margin-top:10px;">${p.sinopse.substring(0,100)}...</div>
                        </div>
                    `;
                });
                html += '</div>';
                
                // S√©ries
                html += '<h3 style="margin: 30px 0 10px;">üì∫ S√âRIES</h3><div class="grid-4">';
                data.series.forEach(p => {
                    html += `
                        <div class="card">
                            <h4>${p.nome}</h4>
                            <div style="color: #FFD700;">${p.status} ‚Ä¢ ${p.progresso}%</div>
                            <div style="color: #0099FF;">${p.visao}</div>
                            <div style="margin-top:10px;">${p.sinopse.substring(0,100)}...</div>
                        </div>
                    `;
                });
                html += '</div>';
                
                // Mini Novelas
                html += '<h3 style="margin: 30px 0 10px;">üì± MINI NOVELAS</h3><div class="grid-4">';
                data.mininovelas.forEach(p => {
                    html += `
                        <div class="card">
                            <h4>${p.nome}</h4>
                            <div style="color: #FFD700;">${p.status} ‚Ä¢ ${p.progresso}%</div>
                            <div style="color: #0099FF;">${p.visao}</div>
                            <div style="margin-top:10px;">${p.sinopse.substring(0,100)}...</div>
                        </div>
                    `;
                });
                html += '</div>';
                
                div.innerHTML = html;
            } catch(e) {
                div.innerHTML = '<div class="loading">Erro ao carregar Escaleta Hub</div>';
            }
        }

        // ===== JORNALISMO =====
        async function carregarJornalismo() {
            const div = document.getElementById('content');
            div.innerHTML = '<div class="loading">Carregando Jornalismo...</div>';
            
            try {
                const res = await fetch('/api/jornalismo');
                const data = await res.json();
                
                let html = '<h2 style="margin-bottom: 20px;">üì∞ JORNALISMO RIO</h2>';
                
                // Stats
                html += '<div style="display: grid; grid-template-columns: repeat(3,1fr); gap:20px; margin-bottom:30px;">';
                html += `<div class="card"><h3>Not√≠cias</h3><div style="font-size:2em;">${data.ultimas.length}</div></div>`;
                html += `<div class="card"><h3>Rep√≥rteres</h3><div style="font-size:2em;">${data.reporteres.length}</div></div>`;
                html += `<div class="card"><h3>Pautas</h3><div style="font-size:2em;">${data.pautas.length}</div></div>`;
                html += '</div>';
                
                // √öltimas not√≠cias
                html += '<h3 style="margin:20px 0;">üî¥ √öLTIMAS NOT√çCIAS</h3>';
                data.ultimas.forEach(n => {
                    html += `
                        <div class="card" style="margin-bottom:15px;">
                            ${n.status === 'urgente' ? '<span style="background:#ff4444; padding:2px 8px; border-radius:4px;">üî¥ URGENTE</span>' : ''}
                            <h4>${n.titulo}</h4>
                            <p>${n.resumo}</p>
                            <div style="color:#888;">üìç ${n.bairro} ‚Ä¢ üïê ${n.hora} ‚Ä¢ üé§ ${n.reporter}</div>
                        </div>
                    `;
                });
                
                // Rep√≥rteres
                html += '<h3 style="margin:30px 0 15px;">üé§ REP√ìRTERES</h3><div class="grid-4">';
                data.reporteres.forEach(r => {
                    html += `
                        <div class="card">
                            <h4>${r.nome}</h4>
                            <div>üìç ${r.regiao}</div>
                            <div>${r.especialidade}</div>
                            <div style="color:#888;">${r.materias} mat√©rias</div>
                        </div>
                    `;
                });
                html += '</div>';
                
                // Pautas
                html += '<h3 style="margin:30px 0 15px;">üìã PAUTAS</h3>';
                data.pautas.forEach(p => {
                    const cor = p.prioridade === 'alta' ? '#ff4444' : p.prioridade === 'media' ? '#ffaa00' : '#00cc66';
                    html += `
                        <div style="background:#2a2a2a; padding:15px; margin:10px 0; border-left:4px solid ${cor};">
                            <strong>${p.titulo}</strong> - ${p.status}
                            <span style="float:right; color:${cor};">${p.prioridade.toUpperCase()}</span>
                        </div>
                    `;
                });
                
                div.innerHTML = html;
            } catch(e) {
                div.innerHTML = '<div class="loading">Erro ao carregar Jornalismo</div>';
            }
        }

        // ===== ESPORTES =====
        async function carregarEsportes() {
            const div = document.getElementById('content');
            div.innerHTML = '<div class="loading">Carregando Esportes...</div>';
            
            try {
                const res = await fetch('/api/esportes');
                const data = await res.json();
                
                let html = '<h2 style="margin-bottom: 20px;">‚öΩ ESPORTES RIO</h2>';
                
                // Stats
                html += '<div style="display: grid; grid-template-columns: repeat(3,1fr); gap:20px; margin-bottom:30px;">';
                html += `<div class="card"><h3>Clubes</h3><div style="font-size:2em;">${data.clubes.length}</div></div>`;
                html += `<div class="card"><h3>Jogos</h3><div style="font-size:2em;">${data.jogos.length}</div></div>`;
                html += `<div class="card"><h3>Comentaristas</h3><div style="font-size:2em;">${data.comentaristas.length}</div></div>`;
                html += '</div>';
                
                // Classifica√ß√£o
                html += '<h3 style="margin:20px 0;">üìä CLASSIFICA√á√ÉO</h3>';
                html += '<table style="width:100%; border-collapse:collapse; background:#2a2a2a;">';
                html += '<tr style="background:#00cc66;"><th>Pos</th><th>Time</th><th>Pts</th><th>J</th><th>V</th></tr>';
                data.classificacao.forEach(c => {
                    html += `<tr><td style="padding:10px;">${c.pos}¬∫</td><td>${c.time}</td><td>${c.pontos}</td><td>${c.jogos}</td><td>${c.vitorias}</td></tr>`;
                });
                html += '</table>';
                
                // Jogos
                html += '<h3 style="margin:30px 0 15px;">üìÖ PR√ìXIMOS JOGOS</h3><div class="grid-4">';
                data.jogos.forEach(j => {
                    html += `
                        <div class="card">
                            <h4>${j.time1} vs ${j.time2}</h4>
                            <div>üìÖ ${j.data} ‚Ä¢ ${j.hora}</div>
                            <div>üìç ${j.local}</div>
                        </div>
                    `;
                });
                html += '</div>';
                
                div.innerHTML = html;
            } catch(e) {
                div.innerHTML = '<div class="loading">Erro ao carregar Esportes</div>';
            }
        }

        // ===== TV =====
        async function carregarTV() {
            const div = document.getElementById('content');
            div.innerHTML = '<div class="loading">Carregando TV...</div>';
            
            try {
                const res = await fetch('/api/tv');
                const data = await res.json();
                
                let html = '<h2 style="margin-bottom: 20px;">üì∫ TV ULTRA</h2>';
                
                // Programa√ß√£o
                html += '<div style="display: grid; grid-template-columns: repeat(3,1fr); gap:20px;">';
                const dias = ['segunda', 'terca', 'quarta'];
                const nomes = ['Segunda', 'Ter√ßa', 'Quarta'];
                
                for(let i=0; i<dias.length; i++) {
                    html += `<div style="background:#2a2a2a; padding:20px; border-radius:10px;"><h3 style="color:#0099FF;">${nomes[i]}</h3>`;
                    data.programacao[dias[i]].forEach(p => {
                        html += `<div style="margin:10px 0;"><span style="color:#FFD700;">${p.horario}</span> - ${p.programa}</div>`;
                    });
                    html += '</div>';
                }
                html += '</div>';
                
                // Produ√ß√µes
                html += '<h3 style="margin:30px 0 15px;">üé¨ PRODU√á√ïES</h3><div class="grid-4">';
                data.producoes.forEach(p => {
                    html += `
                        <div class="card">
                            <h4>${p.nome}</h4>
                            <div>Progresso: ${p.progresso}% (${p.status})</div>
                        </div>
                    `;
                });
                html += '</div>';
                
                div.innerHTML = html;
            } catch(e) {
                div.innerHTML = '<div class="loading">Erro ao carregar TV</div>';
            }
        }

        // ===== FINANCEIRO =====
        async function carregarFinanceiro() {
            const div = document.getElementById('content');
            div.innerHTML = '<div class="loading">Carregando Financeiro...</div>';
            
            try {
                const res = await fetch('/api/financeiro');
                const data = await res.json();
                
                let html = '<h2 style="margin-bottom: 20px;">üí∞ FINANCEIRO</h2>';
                
                html += '<div style="display: grid; grid-template-columns: repeat(3,1fr); gap:20px; margin-bottom:30px;">';
                html += `<div class="card"><h3>Equity BRL</h3><div style="font-size:2em;">R$ ${data.equity_brl.toLocaleString('pt-BR')}</div></div>`;
                html += `<div class="card"><h3>Equity USD</h3><div style="font-size:2em;">$ ${data.equity_usd.toLocaleString('pt-BR')}</div></div>`;
                html += `<div class="card"><h3>Or√ßamento Total</h3><div style="font-size:1.5em;">R$ ${data.orcamento_total.toLocaleString('pt-BR')}</div></div>`;
                html += '</div>';
                
                html += '<h3 style="margin:20px 0;">üìä OR√áAMENTO POR PROJETO</h3><div class="grid-4">';
                data.projetos.forEach(p => {
                    const percentual = Math.round(p.gasto / p.orcamento * 100);
                    html += `
                        <div class="card">
                            <h4>${p.nome}</h4>
                            <div>Or√ßamento: R$ ${p.orcamento.toLocaleString('pt-BR')}</div>
                            <div>Gasto: R$ ${p.gasto.toLocaleString('pt-BR')}</div>
                            <div style="background:#333; height:8px; border-radius:4px; margin:10px 0;">
                                <div style="height:100%; width:${percentual}%; background:#0066CC;"></div>
                            </div>
                            <div style="text-align:right;">${percentual}%</div>
                        </div>
                    `;
                });
                html += '</div>';
                
                div.innerHTML = html;
            } catch(e) {
                div.innerHTML = '<div class="loading">Erro ao carregar Financeiro</div>';
            }
        }

        // ===== EQUIPE =====
        async function carregarEquipe() {
            const div = document.getElementById('content');
            div.innerHTML = '<div class="loading">Carregando Equipe...</div>';
            
            try {
                const res = await fetch('/api/equipe');
                const data = await res.json();
                
                let html = '<h2 style="margin-bottom: 20px;">üë• EQUIPE TVC</h2><div class="grid-4">';
                data.forEach(p => {
                    html += `
                        <div class="card">
                            <h4>${p.nome}</h4>
                            <div>${p.funcao}</div>
                            <div style="color:#0099FF;">${p.area}</div>
                        </div>
                    `;
                });
                html += '</div>';
                
                div.innerHTML = html;
            } catch(e) {
                div.innerHTML = '<div class="loading">Erro ao carregar Equipe</div>';
            }
        }

        // ===== FERRAMENTAS =====
        async function carregarFerramentas() {
            const div = document.getElementById('content');
            div.innerHTML = '<div class="loading">Carregando Ferramentas...</div>';
            
            try {
                const res = await fetch('/api/ferramentas');
                const data = await res.json();
                
                let html = '<h2 style="margin-bottom: 20px;">üõ†Ô∏è FERRAMENTAS</h2><div class="grid-4">';
                data.forEach(f => {
                    html += `
                        <div class="card" style="cursor:pointer; text-align:center;" onclick="alert('${f.nome} acionado!')">
                            <div style="font-size:3em;">${f.icone}</div>
                            <h4>${f.nome}</h4>
                            <div style="color:#888;">${f.desc}</div>
                        </div>
                    `;
                });
                html += '</div>';
                
                div.innerHTML = html;
            } catch(e) {
                div.innerHTML = '<div class="loading">Erro ao carregar Ferramentas</div>';
            }
        }

        // Inicializar
        carregarStats();
        carregarEscaleta();
